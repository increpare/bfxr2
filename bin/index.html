<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <link rel="icon" type="image/x-icon" href="favicon.ico">
        <link rel="icon" type="image/png" href="favicon.png">
        
        <title>Bfxr.  Make sound effects for your games.</title>
        <meta name="description" content="Bfxr is a simple tool for creating unique sound effects for games.">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <script>function copy_obj(e){return Object.assign({},e)}function step(t){return function(e){return e<=0||1<=e?0:(e*e*e*t-e*t)*(1-e)*-1.5}}function resize_fn(t,i,s,a,n){return function(e){return t((e-a)/(n-a)*(s-i)+i)}}function add_fns(...e){return function(i){return e.reduce((e,t)=>e+t(i),0)}}function isVisible(e,t){var i=e.offsetTop,e=i+e.clientHeight,s=t.scrollTop,t=s+t.clientHeight;return s<=i&&e<=t||i<s&&s<e||i<t&&t<e}function setVisible(e,t){isVisible(e,t)||(e.offsetTop<t.scrollTop?t.scrollTop=e.offsetTop:e.offsetTop+e.offsetHeight>t.scrollTop+t.offsetHeight&&(t.scrollTop=e.offsetTop-t.offsetHeight+e.offsetHeight))}Math.clamp=function(e,t,i){return Math.max(t,Math.min(e,i))};class SaveLoad{static collection_save_enabled=!0;static loaded_data={};static save_all_collections(){var e;SaveLoad.collection_save_enabled&&(e=StateSerialization.serialize_collection(),localStorage.setItem("save_data",e),console.log("saved all collections (length "+e.length+")"))}static load_all_collections(){localStorage.getItem("save_data")&&(SaveLoad.loaded_data=JSON.parse(localStorage.getItem("save_data")))}}var AUDIO_CONTEXT,COSTABLENAME,_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},windowIsDefined="object"===("undefined"==typeof window?"undefined":_typeof(window)),FastBase64_chars=((e=>{if("function"==typeof define&&define.amd)define(["jquery"],e);else if("object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports){var t;try{t=require("jquery")}catch(e){t=null}module.exports=e(t)}else window&&(window.Slider=e(window.jQuery))})(function(e){var h,d,c,A,i,s,X,a="slider",n="bootstrapSlider";function t(){}function o(e,t){this._state={value:null,enabled:null,offset:null,size:null,percentage:null,inDrag:!1,over:!1,tickIndex:null},this.ticksCallbackMap={},this.handleCallbackMap={},"string"==typeof e?this.element=document.querySelector(e):e instanceof HTMLElement&&(this.element=e),t=t||{};for(var i=Object.keys(this.defaultOptions),e=t.hasOwnProperty("min"),s=t.hasOwnProperty("max"),a=0;a<i.length;a++){var n=i[a],o=t[n];o=null!==(o=void 0!==o?o:((t,e)=>{e="data-slider-"+e.replace(/_/g,"-"),t=t.getAttribute(e);try{return JSON.parse(t)}catch(e){return t}})(this.element,n))?o:this.defaultOptions[n],this.options||(this.options={}),this.options[n]=o}this.ticksAreValid=Array.isArray(this.options.ticks)&&0<this.options.ticks.length,this.ticksAreValid||(this.options.lock_to_ticks=!1),"auto"===this.options.rtl&&(p=window.getComputedStyle(this.element),this.options.rtl=null!=p?"rtl"===p.direction:"rtl"===this.element.style.direction),"vertical"!==this.options.orientation||"top"!==this.options.tooltip_position&&"bottom"!==this.options.tooltip_position?"horizontal"!==this.options.orientation||"left"!==this.options.tooltip_position&&"right"!==this.options.tooltip_position||(this.options.tooltip_position="top"):this.options.rtl?this.options.tooltip_position="left":this.options.tooltip_position="right";var r,l,h,d,c,p=this.element.style.width,u=!1,m=this.element.parentNode;if(this.sliderElem)u=!0;else{this.sliderElem=document.createElement("div"),this.sliderElem.className="slider";var _=document.createElement("div"),f=(_.className="slider-border",document.createElement("div")),g=(f.className="slider-track",(l=document.createElement("div")).className="slider-track-low",(r=document.createElement("div")).className="slider-selection",(h=document.createElement("div")).className="slider-track-high",(d=document.createElement("div")).className="slider-handle min-slider-handle",d.setAttribute("role","slider"),d.setAttribute("aria-valuemin",this.options.min),d.setAttribute("aria-valuemax",this.options.max),(c=document.createElement("div")).className="slider-handle max-slider-handle",c.setAttribute("role","slider"),c.setAttribute("aria-valuemin",this.options.min),c.setAttribute("aria-valuemax",this.options.max),f.appendChild(l),f.appendChild(r),f.appendChild(h),this.rangeHighlightElements=[],this.options.rangeHighlights);if(Array.isArray(g)&&0<g.length)for(var v=0;v<g.length;v++){var b=document.createElement("div"),y=g[v].class||"";b.className="slider-rangeHighlight slider-selection "+y,this.rangeHighlightElements.push(b),f.appendChild(b)}var k=Array.isArray(this.options.labelledby);if(k&&this.options.labelledby[0]&&d.setAttribute("aria-labelledby",this.options.labelledby[0]),k&&this.options.labelledby[1]&&c.setAttribute("aria-labelledby",this.options.labelledby[1]),!k&&this.options.labelledby&&(d.setAttribute("aria-labelledby",this.options.labelledby),c.setAttribute("aria-labelledby",this.options.labelledby)),this.ticks=[],Array.isArray(this.options.ticks)&&0<this.options.ticks.length){for(this.ticksContainer=document.createElement("div"),this.ticksContainer.className="slider-tick-container",a=0;a<this.options.ticks.length;a++){var w,x,T=document.createElement("div");T.className="slider-tick",this.options.ticks_tooltip&&(w=(x=this._addTickListener()).addMouseEnter(this,T,a),x=x.addMouseLeave(this,T),this.ticksCallbackMap[a]={mouseEnter:w,mouseLeave:x}),this.ticks.push(T),this.ticksContainer.appendChild(T)}r.className+=" tick-slider-selection"}if(this.tickLabels=[],Array.isArray(this.options.ticks_labels)&&0<this.options.ticks_labels.length)for(this.tickLabelContainer=document.createElement("div"),this.tickLabelContainer.className="slider-tick-label-container",a=0;a<this.options.ticks_labels.length;a++){var E=document.createElement("div"),C=0===this.options.ticks_positions.length,C=this.options.reversed&&C?this.options.ticks_labels.length-(a+1):a;E.className="slider-tick-label",E.innerHTML=this.options.ticks_labels[C],this.tickLabels.push(E),this.tickLabelContainer.appendChild(E)}var k=function(e){var t=document.createElement("div"),i=(t.className="arrow",document.createElement("div"));i.className="tooltip-inner",e.appendChild(t),e.appendChild(i)},S=document.createElement("div"),L=(S.className="tooltip tooltip-main",S.setAttribute("role","presentation"),k(S),document.createElement("div")),M=(L.className="tooltip tooltip-min",L.setAttribute("role","presentation"),k(L),document.createElement("div"));M.className="tooltip tooltip-max",M.setAttribute("role","presentation"),k(M),this.sliderElem.appendChild(_),this.sliderElem.appendChild(f),this.sliderElem.appendChild(S),this.sliderElem.appendChild(L),this.sliderElem.appendChild(M),this.tickLabelContainer&&this.sliderElem.appendChild(this.tickLabelContainer),this.ticksContainer&&this.sliderElem.appendChild(this.ticksContainer),this.sliderElem.appendChild(d),this.sliderElem.appendChild(c),m.insertBefore(this.sliderElem,this.element),this.element.style.display="none"}if(A&&(this.$element=A(this.element),this.$sliderElem=A(this.sliderElem)),this.eventToCallbackMap={},this.sliderElem.id=this.options.id,this.touchCapable="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,this.touchX=0,this.touchY=0,this.tooltip=this.sliderElem.querySelector(".tooltip-main"),this.tooltipInner=this.tooltip.querySelector(".tooltip-inner"),this.tooltip_min=this.sliderElem.querySelector(".tooltip-min"),this.tooltipInner_min=this.tooltip_min.querySelector(".tooltip-inner"),this.tooltip_max=this.sliderElem.querySelector(".tooltip-max"),this.tooltipInner_max=this.tooltip_max.querySelector(".tooltip-inner"),X[this.options.scale]&&(this.options.scale=X[this.options.scale]),!0===u&&(this._removeClass(this.sliderElem,"slider-horizontal"),this._removeClass(this.sliderElem,"slider-vertical"),this._removeClass(this.sliderElem,"slider-rtl"),this._removeClass(this.tooltip,"hide"),this._removeClass(this.tooltip_min,"hide"),this._removeClass(this.tooltip_max,"hide"),["left","right","top","width","height"].forEach(function(e){this._removeProperty(this.trackLow,e),this._removeProperty(this.trackSelection,e),this._removeProperty(this.trackHigh,e)},this),[this.handle1,this.handle2].forEach(function(e){this._removeProperty(e,"left"),this._removeProperty(e,"right"),this._removeProperty(e,"top")},this),[this.tooltip,this.tooltip_min,this.tooltip_max].forEach(function(e){this._removeProperty(e,"bs-tooltip-left"),this._removeProperty(e,"bs-tooltip-right"),this._removeProperty(e,"bs-tooltip-top"),this._removeClass(e,"bs-tooltip-right"),this._removeClass(e,"bs-tooltip-left"),this._removeClass(e,"bs-tooltip-top")},this)),"vertical"===this.options.orientation?(this._addClass(this.sliderElem,"slider-vertical"),this.stylePos="top",this.mousePos="pageY",this.sizePos="offsetHeight"):(this._addClass(this.sliderElem,"slider-horizontal"),this.sliderElem.style.width=p,this.options.orientation="horizontal",this.options.rtl?this.stylePos="right":this.stylePos="left",this.mousePos="clientX",this.sizePos="offsetWidth"),this.options.rtl&&this._addClass(this.sliderElem,"slider-rtl"),this._setTooltipPosition(),Array.isArray(this.options.ticks)&&0<this.options.ticks.length&&(s||(this.options.max=Math.max.apply(Math,this.options.ticks)),e||(this.options.min=Math.min.apply(Math,this.options.ticks))),Array.isArray(this.options.value)?(this.options.range=!0,this._state.value=this.options.value):this.options.range?this._state.value=[this.options.value,this.options.max]:this._state.value=this.options.value,this.trackLow=l||this.trackLow,this.trackSelection=r||this.trackSelection,this.trackHigh=h||this.trackHigh,"none"===this.options.selection?(this._addClass(this.trackLow,"hide"),this._addClass(this.trackSelection,"hide"),this._addClass(this.trackHigh,"hide")):"after"!==this.options.selection&&"before"!==this.options.selection||(this._removeClass(this.trackLow,"hide"),this._removeClass(this.trackSelection,"hide"),this._removeClass(this.trackHigh,"hide")),this.handle1=d||this.handle1,this.handle2=c||this.handle2,!0===u)for(this._removeClass(this.handle1,"round triangle"),this._removeClass(this.handle2,"round triangle hide"),a=0;a<this.ticks.length;a++)this._removeClass(this.ticks[a],"round triangle hide");if(-1!==["round","triangle","custom"].indexOf(this.options.handle))for(this._addClass(this.handle1,this.options.handle),this._addClass(this.handle2,this.options.handle),a=0;a<this.ticks.length;a++)this._addClass(this.ticks[a],this.options.handle);this._state.offset=this._offset(this.sliderElem),this._state.size=this.sliderElem[this.sizePos],this.setValue(this._state.value),this.handle1Keydown=this._keydown.bind(this,0),this.handle1.addEventListener("keydown",this.handle1Keydown,!1),this.handle2Keydown=this._keydown.bind(this,1),this.handle2.addEventListener("keydown",this.handle2Keydown,!1),this.mousedown=this._mousedown.bind(this),this.touchstart=this._touchstart.bind(this),this.touchmove=this._touchmove.bind(this),this.touchCapable&&(this.sliderElem.addEventListener("touchstart",this.touchstart,!1),this.sliderElem.addEventListener("touchmove",this.touchmove,!1)),this.sliderElem.addEventListener("mousedown",this.mousedown,!1),this.resize=this._resize.bind(this),window.addEventListener("resize",this.resize,!1),"hide"===this.options.tooltip?(this._addClass(this.tooltip,"hide"),this._addClass(this.tooltip_min,"hide"),this._addClass(this.tooltip_max,"hide")):"always"===this.options.tooltip?(this._showTooltip(),this._alwaysShowTooltip=!0):(this.showTooltip=this._showTooltip.bind(this),this.hideTooltip=this._hideTooltip.bind(this),this.options.ticks_tooltip?(_=(k=this._addTickListener()).addMouseEnter(this,this.handle1),S=k.addMouseLeave(this,this.handle1),this.handleCallbackMap.handle1={mouseEnter:_,mouseLeave:S},_=k.addMouseEnter(this,this.handle2),S=k.addMouseLeave(this,this.handle2),this.handleCallbackMap.handle2={mouseEnter:_,mouseLeave:S}):this.touchCapable&&(this.sliderElem.addEventListener("touchstart",this.showTooltip,!1),this.sliderElem.addEventListener("touchmove",this.showTooltip,!1),this.sliderElem.addEventListener("touchend",this.hideTooltip,!1)),this.handle1.addEventListener("focus",this.showTooltip,!1),this.handle1.addEventListener("blur",this.hideTooltip,!1),this.handle2.addEventListener("focus",this.showTooltip,!1),this.handle2.addEventListener("blur",this.hideTooltip,!1),this.touchCapable&&(this.handle1.addEventListener("touchstart",this.showTooltip,!1),this.handle1.addEventListener("touchmove",this.showTooltip,!1),this.handle1.addEventListener("touchend",this.hideTooltip,!1),this.handle2.addEventListener("touchstart",this.showTooltip,!1),this.handle2.addEventListener("touchmove",this.showTooltip,!1),this.handle2.addEventListener("touchend",this.hideTooltip,!1))),this.options.enabled?this.enable():this.disable()}return windowIsDefined&&!window.console&&(window.console={}),windowIsDefined&&!window.console.log&&(window.console.log=function(){}),windowIsDefined&&!window.console.warn&&(window.console.warn=function(){}),c=Array.prototype.slice,(h=e)&&(d="undefined"==typeof console?t:function(e){console.error(e)},h.bridget=function(e,t){var i,r,l;(i=t).prototype.option||(i.prototype.option=function(e){h.isPlainObject(e)&&(this.options=h.extend(!0,this.options,e))}),r=e,l=t,h.fn[r]=function(t){var e;if("string"!=typeof t)return 1===(e=this.map(function(){var e=h.data(this,r);return e?(e.option(t),e._init()):(e=new l(this,t),h.data(this,r,e)),h(this)})).length?e[0]:e;for(var i=c.call(arguments,1),s=0,a=this.length;s<a;s++){var n=this[s],n=h.data(n,r);if(n)if(h.isFunction(n[t])&&"_"!==t.charAt(0)){var o=n[t].apply(n,i);if(void 0!==o&&o!==n)return o}else d("no such method '"+t+"' for "+r+" instance");else d("cannot call methods on "+r+" prior to initialization; attempted to call '"+t+"'")}return this}}),A=e,i=void 0,s=function(e){return"Invalid input value '"+e+"' passed in"},X={linear:{getValue:function(e,t){return e<t.min?t.min:e>t.max?t.max:e},toValue:function(e){var t=e/100*(this.options.max-this.options.min),i=!0;if(0<this.options.ticks_positions.length){for(var s,a,n,o=0,r=1;r<this.options.ticks_positions.length;r++)if(e<=this.options.ticks_positions[r]){s=this.options.ticks[r-1],n=this.options.ticks_positions[r-1],a=this.options.ticks[r],o=this.options.ticks_positions[r];break}t=s+(e-n)/(o-n)*(a-s),i=!1}i=(i?this.options.min:0)+Math.round(t/this.options.step)*this.options.step;return X.linear.getValue(i,this.options)},toPercentage:function(e){if(this.options.max===this.options.min)return 0;if(0<this.options.ticks_positions.length){for(var t,i,s,a=0,n=0;n<this.options.ticks.length;n++)if(e<=this.options.ticks[n]){t=0<n?this.options.ticks[n-1]:0,s=0<n?this.options.ticks_positions[n-1]:0,i=this.options.ticks[n],a=this.options.ticks_positions[n];break}if(0<n)return s+(e-t)/(i-t)*(a-s)}return 100*(e-this.options.min)/(this.options.max-this.options.min)}},logarithmic:{toValue:function(e){var t=1-this.options.min,i=Math.log(this.options.min+t),s=Math.log(this.options.max+t),i=Math.exp(i+(s-i)*e/100)-t;return Math.round(i)===s?s:(i=this.options.min+Math.round((i-this.options.min)/this.options.step)*this.options.step,X.linear.getValue(i,this.options))},toPercentage:function(e){var t,i,s;return this.options.max===this.options.min?0:(t=1-this.options.min,i=Math.log(this.options.max+t),s=Math.log(this.options.min+t),100*(Math.log(e+t)-s)/(i-s))}}},(e=function(e,t){return o.call(this,e,t),this}).prototype={_init:function(){},constructor:e,defaultOptions:{id:"",min:0,max:10,step:1,precision:0,orientation:"horizontal",value:5,range:!1,selection:"before",tooltip:"show",tooltip_split:!1,lock_to_ticks:!1,handle:"round",reversed:!1,rtl:"auto",enabled:!0,formatter:function(e){return Array.isArray(e)?e[0]+" : "+e[1]:e},natural_arrow_keys:!1,ticks:[],ticks_positions:[],ticks_labels:[],ticks_snap_bounds:0,ticks_tooltip:!1,scale:"linear",focus:!1,tooltip_position:null,labelledby:null,rangeHighlights:[]},getElement:function(){return this.sliderElem},getValue:function(){return this.options.range?this._state.value:this._state.value[0]},setValue:function(e,t,i){e=e||0;var s=this.getValue(),e=(this._state.value=this._validateInputValue(e),this._applyPrecision.bind(this)),e=(this.options.range?(this._state.value[0]=e(this._state.value[0]),this._state.value[1]=e(this._state.value[1]),this.ticksAreValid&&this.options.lock_to_ticks&&(this._state.value[0]=this.options.ticks[this._getClosestTickIndex(this._state.value[0])],this._state.value[1]=this.options.ticks[this._getClosestTickIndex(this._state.value[1])]),this._state.value[0]=Math.max(this.options.min,Math.min(this.options.max,this._state.value[0])),this._state.value[1]=Math.max(this.options.min,Math.min(this.options.max,this._state.value[1]))):(this._state.value=e(this._state.value),this.ticksAreValid&&this.options.lock_to_ticks&&(this._state.value=this.options.ticks[this._getClosestTickIndex(this._state.value)]),this._state.value=[Math.max(this.options.min,Math.min(this.options.max,this._state.value))],this._addClass(this.handle2,"hide"),"after"===this.options.selection?this._state.value[1]=this.options.max:this._state.value[1]=this.options.min),this._setTickIndex(),this.options.max>this.options.min?this._state.percentage=[this._toPercentage(this._state.value[0]),this._toPercentage(this._state.value[1]),100*this.options.step/(this.options.max-this.options.min)]:this._state.percentage=[0,0,100],this._layout(),this.options.range?this._state.value:this._state.value[0]);this._setDataVal(e),!0===t&&this._trigger("slide",e);return(Array.isArray(e)?s[0]!==e[0]||s[1]!==e[1]:s!==e)&&!0===i&&this._trigger("change",{oldValue:s,newValue:e}),this},destroy:function(){this._removeSliderEventHandlers(),this.sliderElem.parentNode.removeChild(this.sliderElem),this.element.style.display="",this._cleanUpEventCallbacksMap(),this.element.removeAttribute("data"),A&&(this._unbindJQueryEventHandlers(),i===a&&this.$element.removeData(i),this.$element.removeData(n))},disable:function(){return this._state.enabled=!1,this.handle1.removeAttribute("tabindex"),this.handle2.removeAttribute("tabindex"),this._addClass(this.sliderElem,"slider-disabled"),this._trigger("slideDisabled"),this},enable:function(){return this._state.enabled=!0,this.handle1.setAttribute("tabindex",0),this.handle2.setAttribute("tabindex",0),this._removeClass(this.sliderElem,"slider-disabled"),this._trigger("slideEnabled"),this},toggle:function(){return this._state.enabled?this.disable():this.enable(),this},isEnabled:function(){return this._state.enabled},on:function(e,t){return this._bindNonQueryEventHandler(e,t),this},off:function(e,t){A?(this.$element.off(e,t),this.$sliderElem.off(e,t)):this._unbindNonQueryEventHandler(e,t)},getAttribute:function(e){return e?this.options[e]:this.options},setAttribute:function(e,t){return this.options[e]=t,this},refresh:function(e){var t=this.getValue();return this._removeSliderEventHandlers(),o.call(this,this.element,this.options),e&&!0===e.useCurrentValue&&this.setValue(t),A&&(i===a&&A.data(this.element,a,this),A.data(this.element,n,this)),this},relayout:function(){return this._resize(),this},_removeTooltipListener:function(e,t){this.handle1.removeEventListener(e,t,!1),this.handle2.removeEventListener(e,t,!1)},_removeSliderEventHandlers:function(){if(this.handle1.removeEventListener("keydown",this.handle1Keydown,!1),this.handle2.removeEventListener("keydown",this.handle2Keydown,!1),this.options.ticks_tooltip){for(var e=this.ticksContainer.getElementsByClassName("slider-tick"),t=0;t<e.length;t++)e[t].removeEventListener("mouseenter",this.ticksCallbackMap[t].mouseEnter,!1),e[t].removeEventListener("mouseleave",this.ticksCallbackMap[t].mouseLeave,!1);this.handleCallbackMap.handle1&&this.handleCallbackMap.handle2&&(this.handle1.removeEventListener("mouseenter",this.handleCallbackMap.handle1.mouseEnter,!1),this.handle2.removeEventListener("mouseenter",this.handleCallbackMap.handle2.mouseEnter,!1),this.handle1.removeEventListener("mouseleave",this.handleCallbackMap.handle1.mouseLeave,!1),this.handle2.removeEventListener("mouseleave",this.handleCallbackMap.handle2.mouseLeave,!1))}this.handleCallbackMap=null,this.ticksCallbackMap=null,this.showTooltip&&this._removeTooltipListener("focus",this.showTooltip),this.hideTooltip&&this._removeTooltipListener("blur",this.hideTooltip),this.showTooltip&&this.sliderElem.removeEventListener("mouseenter",this.showTooltip,!1),this.hideTooltip&&this.sliderElem.removeEventListener("mouseleave",this.hideTooltip,!1),this.sliderElem.removeEventListener("mousedown",this.mousedown,!1),this.touchCapable&&(this.showTooltip&&(this.handle1.removeEventListener("touchstart",this.showTooltip,!1),this.handle1.removeEventListener("touchmove",this.showTooltip,!1),this.handle2.removeEventListener("touchstart",this.showTooltip,!1),this.handle2.removeEventListener("touchmove",this.showTooltip,!1)),this.hideTooltip&&(this.handle1.removeEventListener("touchend",this.hideTooltip,!1),this.handle2.removeEventListener("touchend",this.hideTooltip,!1)),this.showTooltip&&(this.sliderElem.removeEventListener("touchstart",this.showTooltip,!1),this.sliderElem.removeEventListener("touchmove",this.showTooltip,!1)),this.hideTooltip&&this.sliderElem.removeEventListener("touchend",this.hideTooltip,!1),this.sliderElem.removeEventListener("touchstart",this.touchstart,!1),this.sliderElem.removeEventListener("touchmove",this.touchmove,!1)),window.removeEventListener("resize",this.resize,!1)},_bindNonQueryEventHandler:function(e,t){void 0===this.eventToCallbackMap[e]&&(this.eventToCallbackMap[e]=[]),this.eventToCallbackMap[e].push(t)},_unbindNonQueryEventHandler:function(e,t){var i=this.eventToCallbackMap[e];if(void 0!==i)for(var s=0;s<i.length;s++)if(i[s]===t){i.splice(s,1);break}},_cleanUpEventCallbacksMap:function(){for(var e=Object.keys(this.eventToCallbackMap),t=0;t<e.length;t++){var i=e[t];delete this.eventToCallbackMap[i]}},_showTooltip:function(){!1===this.options.tooltip_split?(this._addClass(this.tooltip,"show"),this.tooltip_min.style.display="none",this.tooltip_max.style.display="none"):(this._addClass(this.tooltip_min,"show"),this._addClass(this.tooltip_max,"show"),this.tooltip.style.display="none"),this._state.over=!0},_hideTooltip:function(){!1===this._state.inDrag&&!0!==this._alwaysShowTooltip&&(this._removeClass(this.tooltip,"show"),this._removeClass(this.tooltip_min,"show"),this._removeClass(this.tooltip_max,"show")),this._state.over=!1},_setToolTipOnMouseOver:function(e){var i=this,t=this.options.formatter((e||this._state).value[0]),e=s(e||this._state,this.options.reversed);function s(e,t){return t?[100-e.percentage[0],i.options.range?100-e.percentage[1]:e.percentage[1]]:[e.percentage[0],e.percentage[1]]}this._setText(this.tooltipInner,t),this.tooltip.style[this.stylePos]=e[0]+"%"},_copyState:function(){return{value:[this._state.value[0],this._state.value[1]],enabled:this._state.enabled,offset:this._state.offset,size:this._state.size,percentage:[this._state.percentage[0],this._state.percentage[1],this._state.percentage[2]],inDrag:this._state.inDrag,over:this._state.over,dragged:this._state.dragged,keyCtrl:this._state.keyCtrl}},_addTickListener:function(){return{addMouseEnter:function(s,a,n){function e(){var e=s._copyState(),t=a===s.handle1?e.value[0]:e.value[1],i=void 0,i=void 0!==n?(t=s.options.ticks[n],0<s.options.ticks_positions.length&&s.options.ticks_positions[n]||s._toPercentage(s.options.ticks[n])):s._toPercentage(t);e.value[0]=t,e.percentage[0]=i,s._setToolTipOnMouseOver(e),s._showTooltip()}return a.addEventListener("mouseenter",e,!1),e},addMouseLeave:function(e,t){function i(){e._hideTooltip()}return t.addEventListener("mouseleave",i,!1),i}}},_layout:function(){var e,t,i=this.options.reversed?[100-this._state.percentage[0],this.options.range?100-this._state.percentage[1]:this._state.percentage[1]]:[this._state.percentage[0],this._state.percentage[1]];if(this.handle1.style[this.stylePos]=i[0]+"%",this.handle1.setAttribute("aria-valuenow",this._state.value[0]),e=this.options.formatter(this._state.value[0]),isNaN(e)?this.handle1.setAttribute("aria-valuetext",e):this.handle1.removeAttribute("aria-valuetext"),this.handle2.style[this.stylePos]=i[1]+"%",this.handle2.setAttribute("aria-valuenow",this._state.value[1]),e=this.options.formatter(this._state.value[1]),isNaN(e)?this.handle2.setAttribute("aria-valuetext",e):this.handle2.removeAttribute("aria-valuetext"),0<this.rangeHighlightElements.length&&Array.isArray(this.options.rangeHighlights)&&0<this.options.rangeHighlights.length)for(var s=0;s<this.options.rangeHighlights.length;s++){var a=this._toPercentage(this.options.rangeHighlights[s].start),n=this._toPercentage(this.options.rangeHighlights[s].end),o=(this.options.reversed&&(o=100-n,n=100-a,a=o),this._createHighlightRange(a,n));o?"vertical"===this.options.orientation?(this.rangeHighlightElements[s].style.top=o.start+"%",this.rangeHighlightElements[s].style.height=o.size+"%"):(this.options.rtl?this.rangeHighlightElements[s].style.right=o.start+"%":this.rangeHighlightElements[s].style.left=o.start+"%",this.rangeHighlightElements[s].style.width=o.size+"%"):this.rangeHighlightElements[s].style.display="none"}if(Array.isArray(this.options.ticks)&&0<this.options.ticks.length){var r="vertical"===this.options.orientation?"height":"width",l="vertical"===this.options.orientation?"marginTop":this.options.rtl?"marginRight":"marginLeft",h=this._state.size/(this.options.ticks.length-1);if(this.tickLabelContainer){var d=0;if(0===this.options.ticks_positions.length)"vertical"!==this.options.orientation&&(this.tickLabelContainer.style[l]=-h/2+"px"),d=this.tickLabelContainer.offsetHeight;else for(c=0;c<this.tickLabelContainer.childNodes.length;c++)this.tickLabelContainer.childNodes[c].offsetHeight>d&&(d=this.tickLabelContainer.childNodes[c].offsetHeight);"horizontal"===this.options.orientation&&(this.sliderElem.style.marginBottom=d+"px")}for(var c=0;c<this.options.ticks.length;c++){var p=this.options.ticks_positions[c]||this._toPercentage(this.options.ticks[c]);this.options.reversed&&(p=100-p),this.ticks[c].style[this.stylePos]=p+"%",this._removeClass(this.ticks[c],"in-selection"),this.options.range?p>=i[0]&&p<=i[1]&&this._addClass(this.ticks[c],"in-selection"):("after"===this.options.selection&&p>=i[0]||"before"===this.options.selection&&p<=i[0])&&this._addClass(this.ticks[c],"in-selection"),this.tickLabels[c]&&(this.tickLabels[c].style[r]=h+"px","vertical"!==this.options.orientation&&void 0!==this.options.ticks_positions[c]?(this.tickLabels[c].style.position="absolute",this.tickLabels[c].style[this.stylePos]=p+"%",this.tickLabels[c].style[l]=-h/2+"px"):"vertical"===this.options.orientation&&(this.options.rtl?this.tickLabels[c].style.marginRight=this.sliderElem.offsetWidth+"px":this.tickLabels[c].style.marginLeft=this.sliderElem.offsetWidth+"px",this.tickLabelContainer.style[l]=this.sliderElem.offsetWidth/2*-1+"px"),this._removeClass(this.tickLabels[c],"label-in-selection label-is-selection"),this.options.range?p>=i[0]&&p<=i[1]&&(this._addClass(this.tickLabels[c],"label-in-selection"),p!==i[0]&&!i[1]||this._addClass(this.tickLabels[c],"label-is-selection")):(("after"===this.options.selection&&p>=i[0]||"before"===this.options.selection&&p<=i[0])&&this._addClass(this.tickLabels[c],"label-in-selection"),p===i[0]&&this._addClass(this.tickLabels[c],"label-is-selection")))}}this.options.range?(t=this.options.formatter(this._state.value),this._setText(this.tooltipInner,t),this.tooltip.style[this.stylePos]=(i[1]+i[0])/2+"%",e=this.options.formatter(this._state.value[0]),this._setText(this.tooltipInner_min,e),e=this.options.formatter(this._state.value[1]),this._setText(this.tooltipInner_max,e),this.tooltip_min.style[this.stylePos]=i[0]+"%",this.tooltip_max.style[this.stylePos]=i[1]+"%"):(t=this.options.formatter(this._state.value[0]),this._setText(this.tooltipInner,t),this.tooltip.style[this.stylePos]=i[0]+"%"),"vertical"===this.options.orientation?(this.trackLow.style.top="0",this.trackLow.style.height=Math.min(i[0],i[1])+"%",this.trackSelection.style.top=Math.min(i[0],i[1])+"%",this.trackSelection.style.height=Math.abs(i[0]-i[1])+"%",this.trackHigh.style.bottom="0",this.trackHigh.style.height=100-Math.min(i[0],i[1])-Math.abs(i[0]-i[1])+"%"):("right"===this.stylePos?this.trackLow.style.right="0":this.trackLow.style.left="0",this.trackLow.style.width=Math.min(i[0],i[1])+"%","right"===this.stylePos?this.trackSelection.style.right=Math.min(i[0],i[1])+"%":this.trackSelection.style.left=Math.min(i[0],i[1])+"%",this.trackSelection.style.width=Math.abs(i[0]-i[1])+"%","right"===this.stylePos?this.trackHigh.style.left="0":this.trackHigh.style.right="0",this.trackHigh.style.width=100-Math.min(i[0],i[1])-Math.abs(i[0]-i[1])+"%",e=this.tooltip_min.getBoundingClientRect(),t=this.tooltip_max.getBoundingClientRect(),"bottom"===this.options.tooltip_position?e.right>t.left?(this._removeClass(this.tooltip_max,"bs-tooltip-bottom"),this._addClass(this.tooltip_max,"bs-tooltip-top"),this.tooltip_max.style.top="",this.tooltip_max.style.bottom="22px"):(this._removeClass(this.tooltip_max,"bs-tooltip-top"),this._addClass(this.tooltip_max,"bs-tooltip-bottom"),this.tooltip_max.style.top=this.tooltip_min.style.top,this.tooltip_max.style.bottom=""):e.right>t.left?(this._removeClass(this.tooltip_max,"bs-tooltip-top"),this._addClass(this.tooltip_max,"bs-tooltip-bottom"),this.tooltip_max.style.top="18px"):(this._removeClass(this.tooltip_max,"bs-tooltip-bottom"),this._addClass(this.tooltip_max,"bs-tooltip-top"),this.tooltip_max.style.top=this.tooltip_min.style.top))},_createHighlightRange:function(e,t){return this._isHighlightRange(e,t)?t<e?{start:t,size:e-t}:{start:e,size:t-e}:null},_isHighlightRange:function(e,t){return 0<=e&&e<=100&&0<=t&&t<=100},_resize:function(e){this._state.offset=this._offset(this.sliderElem),this._state.size=this.sliderElem[this.sizePos],this._layout()},_removeProperty:function(e,t){e.style.removeProperty?e.style.removeProperty(t):e.style.removeAttribute(t)},_mousedown:function(e){if(!this._state.enabled)return!1;e.preventDefault&&e.preventDefault(),this._state.offset=this._offset(this.sliderElem),this._state.size=this.sliderElem[this.sizePos];var t,i=this._getPercentage(e),s=(this.options.range?(s=Math.abs(this._state.percentage[0]-i),t=Math.abs(this._state.percentage[1]-i),this._state.dragged=s<t?0:1,this._adjustPercentageForRangeSliders(i)):this._state.dragged=0,this._state.percentage[this._state.dragged]=i,this.touchCapable&&(document.removeEventListener("touchmove",this.mousemove,!1),document.removeEventListener("touchend",this.mouseup,!1)),this.mousemove&&document.removeEventListener("mousemove",this.mousemove,!1),this.mouseup&&document.removeEventListener("mouseup",this.mouseup,!1),this.mousemove=this._mousemove.bind(this),this.mouseup=this._mouseup.bind(this),this.touchCapable&&(document.addEventListener("touchmove",this.mousemove,!1),document.addEventListener("touchend",this.mouseup,!1)),document.addEventListener("mousemove",this.mousemove,!1),document.addEventListener("mouseup",this.mouseup,!1),this._state.inDrag=!0,this.showTooltip(),this._calculateValue());return this._trigger("slideStart",s),this.setValue(s,!1,!0),e.returnValue=!1,this.options.focus&&this._triggerFocusOnHandle(this._state.dragged),!0},_touchstart:function(e){this._mousedown(e)},_triggerFocusOnHandle:function(e){0===e&&this.handle1.focus(),1===e&&this.handle2.focus()},_keydown:function(e,t){if(!this._state.enabled)return!1;var i,s,a,n,o;switch(t.keyCode){case 37:case 40:i=-1;break;case 39:case 38:i=1}return i?(this.options.natural_arrow_keys&&(n="horizontal"===this.options.orientation,s="vertical"===this.options.orientation,o=this.options.rtl,a=this.options.reversed,n?o?a||(i=-i):a&&(i=-i):s&&!a&&(i=-i)),o=this.ticksAreValid&&this.options.lock_to_ticks?(n=void 0,-1===(n=this.options.ticks.indexOf(this._state.value[e]))&&(n=0,window.console.warn("(lock_to_ticks) _keydown: index should not be -1")),n+=i,n=Math.max(0,Math.min(this.options.ticks.length-1,n)),this.options.ticks[n]):this._state.value[e]+i*this.options.step,s=this._toPercentage(o),this._state.keyCtrl=e,o=this.options.range?(this._adjustPercentageForRangeSliders(s),a=this._state.keyCtrl?this._state.value[0]:o,n=this._state.keyCtrl?o:this._state.value[1],[Math.max(this.options.min,Math.min(this.options.max,a)),Math.max(this.options.min,Math.min(this.options.max,n))]):Math.max(this.options.min,Math.min(this.options.max,o)),this._trigger("slideStart",o),this.setValue(o,!0,!0),this._trigger("slideStop",o),this._pauseEvent(t),delete this._state.keyCtrl,!1):void 0},_pauseEvent:function(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,e.returnValue=!1},_mousemove:function(e){return this._state.enabled&&(e=this._getPercentage(e),this._adjustPercentageForRangeSliders(e),this._state.percentage[this._state.dragged]=e,e=this._calculateValue(!0),this.setValue(e,!0,!0)),!1},_touchmove:function(e){void 0!==e.changedTouches&&e.preventDefault&&e.preventDefault()},_adjustPercentageForRangeSliders:function(e){var t,i;this.options.range&&(t=this._getNumDigitsAfterDecimalPlace(e),i=this._applyToFixedAndParseFloat(e,t=t?t-1:0),0===this._state.dragged&&this._applyToFixedAndParseFloat(this._state.percentage[1],t)<i?(this._state.percentage[0]=this._state.percentage[1],this._state.dragged=1):1===this._state.dragged&&this._applyToFixedAndParseFloat(this._state.percentage[0],t)>i?(this._state.percentage[1]=this._state.percentage[0],this._state.dragged=0):0===this._state.keyCtrl&&this._toPercentage(this._state.value[1])<e?(this._state.percentage[0]=this._state.percentage[1],this._state.keyCtrl=1,this.handle2.focus()):1===this._state.keyCtrl&&this._toPercentage(this._state.value[0])>e&&(this._state.percentage[1]=this._state.percentage[0],this._state.keyCtrl=0,this.handle1.focus()))},_mouseup:function(e){return this._state.enabled&&(e=this._getPercentage(e),this._adjustPercentageForRangeSliders(e),this._state.percentage[this._state.dragged]=e,this.touchCapable&&(document.removeEventListener("touchmove",this.mousemove,!1),document.removeEventListener("touchend",this.mouseup,!1)),document.removeEventListener("mousemove",this.mousemove,!1),document.removeEventListener("mouseup",this.mouseup,!1),this._state.inDrag=!1,this.hideTooltip(),!1===this._state.over&&this._hideTooltip(),e=this._calculateValue(!0),this.setValue(e,!1,!0),this._trigger("slideStop",e),this._state.dragged=null),!1},_setValues:function(e,t){this._state.percentage[e]!==(0===e?0:100)&&(t.data[e]=this._toValue(this._state.percentage[e]),t.data[e]=this._applyPrecision(t.data[e]))},_calculateValue:function(e){var t={};return this.options.range?(t.data=[this.options.min,this.options.max],this._setValues(0,t),this._setValues(1,t),e&&(t.data[0]=this._snapToClosestTick(t.data[0]),t.data[1]=this._snapToClosestTick(t.data[1]))):(t.data=this._toValue(this._state.percentage[0]),t.data=parseFloat(t.data),t.data=this._applyPrecision(t.data),e&&(t.data=this._snapToClosestTick(t.data))),t.data},_snapToClosestTick:function(e){for(var t=[e,1/0],i=0;i<this.options.ticks.length;i++){var s=Math.abs(this.options.ticks[i]-e);s<=t[1]&&(t=[this.options.ticks[i],s])}return t[1]<=this.options.ticks_snap_bounds?t[0]:e},_applyPrecision:function(e){var t=this.options.precision||this._getNumDigitsAfterDecimalPlace(this.options.step);return this._applyToFixedAndParseFloat(e,t)},_getNumDigitsAfterDecimalPlace:function(e){e=(""+e).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return e?Math.max(0,(e[1]?e[1].length:0)-(e[2]?+e[2]:0)):0},_applyToFixedAndParseFloat:function(e,t){e=e.toFixed(t);return parseFloat(e)},_getPercentage:function(e){e=(e=!this.touchCapable||"touchstart"!==e.type&&"touchmove"!==e.type&&"touchend"!==e.type?e:e.changedTouches[0])[this.mousePos]-this._state.offset[this.stylePos],e=(e="right"===this.stylePos?-e:e)/this._state.size*100,e=Math.round(e/this._state.percentage[2])*this._state.percentage[2];return this.options.reversed&&(e=100-e),Math.max(0,Math.min(100,e))},_validateInputValue:function(e){if(isNaN(+e)){if(Array.isArray(e))return this._validateArray(e),e;throw new Error(s(e))}return+e},_validateArray:function(e){for(var t=0;t<e.length;t++){var i=e[t];if("number"!=typeof i)throw new Error(s(i))}},_setDataVal:function(e){this.element.setAttribute("data-value",e),this.element.setAttribute("value",e),this.element.value=e},_trigger:function(e,t){t=t||0===t?t:void 0;var i=this.eventToCallbackMap[e];if(i&&i.length)for(var s=0;s<i.length;s++)(0,i[s])(t);A&&this._triggerJQueryEvent(e,t)},_triggerJQueryEvent:function(e,t){e={type:e,value:t};this.$element.trigger(e),this.$sliderElem.trigger(e)},_unbindJQueryEventHandlers:function(){this.$element.off(),this.$sliderElem.off()},_setText:function(e,t){void 0!==e.textContent?e.textContent=t:void 0!==e.innerText&&(e.innerText=t)},_removeClass:function(e,t){for(var i=t.split(" "),s=e.className,a=0;a<i.length;a++)var n=i[a],n=new RegExp("(?:\\s|^)"+n+"(?:\\s|$)"),s=s.replace(n," ");e.className=s.trim()},_addClass:function(e,t){for(var i=t.split(" "),s=e.className,a=0;a<i.length;a++){var n=i[a];new RegExp("(?:\\s|^)"+n+"(?:\\s|$)").test(s)||(s+=" "+n)}e.className=s.trim()},_offsetLeft:function(e){return e.getBoundingClientRect().left},_offsetRight:function(e){return e.getBoundingClientRect().right},_offsetTop:function(e){for(var t=e.offsetTop;(e=e.offsetParent)&&!isNaN(e.offsetTop);)t+=e.offsetTop,"BODY"!==e.tagName&&(t-=e.scrollTop);return t},_offset:function(e){return{left:this._offsetLeft(e),right:this._offsetRight(e),top:this._offsetTop(e)}},_css:function(e,t,i){A?A.style(e,t,i):(t=t.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(e,t){return t.toUpperCase()}),e.style[t]=i)},_toValue:function(e){return this.options.scale.toValue.apply(this,[e])},_toPercentage:function(e){return this.options.scale.toPercentage.apply(this,[e])},_setTooltipPosition:function(){var t,i,e=[this.tooltip,this.tooltip_min,this.tooltip_max];"vertical"===this.options.orientation?(t=this.options.tooltip_position||(this.options.rtl?"left":"right"),i="left"===t?"right":"left",e.forEach(function(e){this._addClass(e,"bs-tooltip-"+t),e.style[i]="100%"}.bind(this))):"bottom"===this.options.tooltip_position?e.forEach(function(e){this._addClass(e,"bs-tooltip-bottom"),e.style.top="22px"}.bind(this)):e.forEach(function(e){this._addClass(e,"bs-tooltip-top"),e.style.top=-this.tooltip.outerHeight-14+"px"}.bind(this))},_getClosestTickIndex:function(e){for(var t=Math.abs(e-this.options.ticks[0]),i=0,s=0;s<this.options.ticks.length;++s){var a=Math.abs(e-this.options.ticks[s]);a<t&&(t=a,i=s)}return i},_setTickIndex:function(){this.ticksAreValid&&(this._state.tickIndex=[this.options.ticks.indexOf(this._state.value[0]),this.options.ticks.indexOf(this._state.value[1])])}},A&&A.fn&&(i=A.fn.slider?(windowIsDefined&&window.console.warn("bootstrap-slider.js - WARNING: $.fn.slider namespace is already bound. Use the $.fn.bootstrapSlider namespace instead."),n):(A.bridget(a,e),a),A.bridget(n,e),A(function(){A("input[data-provide=slider]")[i]()})),e}),window.addEventListener("load",()=>{let h=window.inputKnobsOptions||{};h.knobWidth=h.knobWidth||h.knobDiameter||64,h.knobHeight=h.knobHeight||h.knobDiameter||64,h.sliderWidth=h.sliderWidth||h.sliderDiameter||128,h.sliderHeight=h.sliderHeight||h.sliderDiameter||20,h.switchWidth=h.switchWidth||h.switchDiameter||24,h.switchHeight=h.switchHeight||h.switchDiameter||24,h.fgcolor=h.fgcolor||"#f00",h.bgcolor=h.bgcolor||"#000",h.knobMode=h.knobMode||"linear",h.sliderMode=h.sliderMode||"relative";var e=document.createElement("style");e.innerHTML=`input[type=range].input-knob,input[type=range].input-slider{
  -webkit-appearance:none;
  -moz-appearance:none;
  border:none;
  box-sizing:border-box;
  overflow:hidden;
  background-repeat:no-repeat;
  background-size:100% 100%;
  background-position:0px 0%;
  background-color:transparent;
  touch-action:none;
}
input[type=range].input-knob{
  width:${h.knobWidth}px; height:${h.knobHeight}px;
}
input[type=range].input-slider{
  width:${h.sliderWidth}px; height:${h.sliderHeight}px;
}
input[type=range].input-knob::-webkit-slider-thumb,input[type=range].input-slider::-webkit-slider-thumb{
  -webkit-appearance:none;
  opacity:0;
}
input[type=range].input-knob::-moz-range-thumb,input[type=range].input-slider::-moz-range-thumb{
  -moz-appearance:none;
  height:0;
  border:none;
}
input[type=range].input-knob::-moz-range-track,input[type=range].input-slider::-moz-range-track{
  -moz-appearance:none;
  height:0;
  border:none;
}
input[type=checkbox].input-switch,input[type=radio].input-switch {
  width:${h.switchWidth}px;
  height:${h.switchHeight}px;
  -webkit-appearance:none;
  -moz-appearance:none;
  background-size:100% 200%;
  background-position:0% 0%;
  background-repeat:no-repeat;
  border:none;
  border-radius:0;
  background-color:transparent;
}
input[type=checkbox].input-switch:checked,input[type=radio].input-switch:checked {
  background-position:0% 100%;
}`,document.head.appendChild(e);let o=(t,i,s)=>{let a="";var n,o,r,l,h;for(let e=0;e<8;e++)4!=e&&(l=45*e*Math.PI/180,n=32+27*Math.sin(l),o=32-27*Math.cos(l),r=32+32*Math.sin(l),l=32-32*Math.cos(l),h=0===e?i:s,a+=`<line x1="${n.toFixed(1)}" y1="${o.toFixed(1)}" x2="${r.toFixed(1)}" y2="${l.toFixed(1)}" stroke-width="5" stroke="${h}"/>`);let d=`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="64" height="${64*t}" viewBox="0 0 64 ${64*t}" preserveAspectRatio="none">
<defs>
  <g id="K">
    <circle cx="32" cy="32" r="25" stroke="${i}" stroke-width="2" fill="none"/>
    <line x1="32" y1="28" x2="32" y2="7" stroke-width="6" stroke="${i}"/>
  </g>
</defs>`;for(let e=0;e<t;e++)d+=`<g transform="translate(0,${64*e})">
      ${a}
      <use xlink:href="#K" transform="rotate(${270*e/t-135},32,32)"/>
    </g>`;return d+"</svg>"},d=(t,e,i,s,a)=>{let n=`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="${s}" height="${t*a}" viewBox="0 0 ${s} ${t*a}" preserveAspectRatio="none">
<defs><g id="B"><rect x="0" y="0" width="${s}" height="${a}" rx="${a/2}" ry="${a/2}" fill="${i}"/></g>
<g id="K"><circle x="${s/2}" y="0" r="${a/2*.9}" fill="${e}"/></g></defs>`;for(let e=0;e<t;++e)n=(n+=`<use xlink:href="#B" transform="translate(0,${a*e})"/>`)+`<use xlink:href="#K" transform="translate(${a/2+(s-a)*e/100},${a/2+a*e})"/>`;return n+"</svg>"},c=(t,e,i,s,a)=>{let n=`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="${s}" height="${t*a}" viewBox="0 0 ${s} ${t*a}" preserveAspectRatio="none">
<defs><rect id="B" x="0" y="0" width="${s}" height="${a}" rx="${s/2}" ry="${s/2}" fill="${i}"/>
<circle id="K" x="0" y="0" r="${s/2*.9}" fill="${e}"/></defs>`;for(let e=0;e<t;++e)n=(n+=`<use xlink:href="#B" transform="translate(0,${a*e})"/>`)+`<use xlink:href="#K" transform="translate(${s/2} ${a*(e+1)-s/2-e*(a-s)/100})"/>`;return n+"</svg>"},i=i=>{let s,a,n,o,r;i.inputKnobs||(i.inputKnobs={},i.refresh=()=>{var e=i.getAttribute("data-src"),t=(n=+i.getAttribute("data-diameter"),document.defaultView.getComputedStyle(i,null));s=parseFloat(i.getAttribute("data-width")||n||t.width),a=parseFloat(i.getAttribute("data-height")||n||t.height),r=i.getAttribute("data-bgcolor")||h.bgcolor,o=i.getAttribute("data-fgcolor")||h.fgcolor,i.style.width=s+"px",i.style.height=a+"px",e?i.style.backgroundImage="url("+e+")":(t=Math.min(s,a),e=`<svg xmlns="http://www.w3.org/2000/svg" width="${s}" height="${2*a}" viewBox="0 0 ${s} ${2*a}" preserveAspectRatio="none">
<g><rect fill="${r}" x="1" y="1" width="${s-2}" height="${a-2}" rx="${.25*t}" ry="${.25*t}"/>
<rect fill="${r}" x="1" y="${a+1}" width="${s-2}" height="${a-2}" rx="${.25*t}" ry="${.25*t}"/>
<circle fill="${o}" cx="${.5*s}" cy="${1.5*a}" r="${.25*t}"/></g></svg>`,i.style.backgroundImage="url(data:image/svg+xml;base64,"+btoa(e)+")")},i.refresh())},s=l=>{let i,s,t,a,n;if(l.inputKnobs)l.redraw();else{let r=l.inputKnobs={};l.refresh=()=>{t=+l.getAttribute("data-diameter");var e=document.defaultView.getComputedStyle(l,null),e=(i=parseFloat(l.getAttribute("data-width")||t||e.width),s=parseFloat(l.getAttribute("data-height")||t||e.height),n=l.getAttribute("data-bgcolor")||h.bgcolor,a=l.getAttribute("data-fgcolor")||h.fgcolor,r.sensex=r.sensey=200,0<=l.className.indexOf("input-knob")?r.itype="k":i>=s?(r.itype="h",r.sensex=i-s,r.sensey=1/0,l.style.backgroundSize="auto 100%"):(r.itype="v",r.sensex=1/0,r.sensey=s-i,l.style.backgroundSize="100% auto"),l.style.width=i+"px",l.style.height=s+"px",r.frameheight=s,l.getAttribute("data-src"));if(e){l.style.backgroundImage=`url(${e})`;e=+l.getAttribute("data-sprites");r.sprites=e||0,1<=r.sprites?l.style.backgroundSize=`100% ${100*(r.sprites+1)}%`:"k"!=r.itype&&(l.style.backgroundColor=n,l.style.borderRadius=.25*Math.min(i,s)+"px")}else{let e;switch(r.itype){case"k":e=o(101,a,n);break;case"h":e=d(101,a,n,i,s);break;case"v":e=c(101,a,n,i,s)}r.sprites=100,l.style.backgroundImage="url(data:image/svg+xml;base64,"+btoa(e)+")",l.style.backgroundSize=`100% ${100*(r.sprites+1)}%`}r.valrange={min:+l.min,max:""==l.max?100:+l.max,step:""==l.step?1:+l.step},l.redraw(!0)},l.setValue=e=>{(e=(e=Math.round((e-r.valrange.min)/r.valrange.step)*r.valrange.step+r.valrange.min)<r.valrange.min?r.valrange.min:e)>r.valrange.max&&(e=r.valrange.max),l.value=e,l.value!=r.oldvalue&&(l.setAttribute("value",l.value),l.redraw(),(e=document.createEvent("HTMLEvents")).initEvent("input",!1,!0),l.dispatchEvent(e),r.oldvalue=l.value)},r.pointerdown=e=>{l.focus();var t=e,i=(e.touches&&(e=e.touches[0]),l.getBoundingClientRect()),s=.5*(i.left+i.right),i=.5*(i.top+i.bottom),a=e.clientX,n=e.clientY,o=Math.atan2(e.clientX-s,i-e.clientY);"k"==r.itype&&"circularabs"==h.knobMode&&(dv=r.valrange.min+(o/Math.PI*.75+.5)*(r.valrange.max-r.valrange.min),l.setValue(dv)),"k"!=r.itype&&"abs"==h.sliderMode&&(dv=.5*(r.valrange.min+r.valrange.max)+((a-s)/r.sensex-(n-i)/r.sensey)*(r.valrange.max-r.valrange.min),l.setValue(dv)),r.dragfrom={x:e.clientX,y:e.clientY,a:Math.atan2(e.clientX-s,i-e.clientY),v:+l.value},document.addEventListener("mousemove",r.pointermove,{passive:!1}),document.addEventListener("mouseup",r.pointerup,{passive:!0}),document.addEventListener("touchmove",r.pointermove,{passive:!1}),document.addEventListener("touchend",r.pointerup,{passive:!0}),document.addEventListener("touchcancel",r.pointerup,{passive:!0}),document.addEventListener("touchstart",r.preventScroll,{passive:!1}),t.preventDefault(),t.stopPropagation()},r.pointermove=e=>{let t;var i=l.getBoundingClientRect(),s=.5*(i.left+i.right),i=.5*(i.top+i.bottom),a=(e=e.touches?e.touches[0]:e).clientX-r.dragfrom.x,n=e.clientY-r.dragfrom.y;let o=Math.atan2(e.clientX-s,i-e.clientY);switch(r.itype){case"k":switch(h.knobMode){case"linear":t=(a/r.sensex-n/r.sensey)*(r.valrange.max-r.valrange.min),e.shiftKey&&(t*=.2),l.setValue(r.dragfrom.v+t);break;case"circularabs":if(!e.shiftKey){t=r.valrange.min+(o/Math.PI*.75+.5)*(r.valrange.max-r.valrange.min),l.setValue(t);break}case"circularrel":o>r.dragfrom.a+Math.PI&&(o-=2*Math.PI),o<r.dragfrom.a-Math.PI&&(o+=2*Math.PI),o-=r.dragfrom.a,t=o/Math.PI/1.5*(r.valrange.max-r.valrange.min),e.shiftKey&&(t*=.2),l.setValue(r.dragfrom.v+t)}break;case"h":case"v":t=(a/r.sensex-n/r.sensey)*(r.valrange.max-r.valrange.min),e.shiftKey&&(t*=.2),l.setValue(r.dragfrom.v+t)}},r.pointerup=()=>{document.removeEventListener("mousemove",r.pointermove),document.removeEventListener("touchmove",r.pointermove),document.removeEventListener("mouseup",r.pointerup),document.removeEventListener("touchend",r.pointerup),document.removeEventListener("touchcancel",r.pointerup),document.removeEventListener("touchstart",r.preventScroll);var e=document.createEvent("HTMLEvents");e.initEvent("change",!1,!0),l.dispatchEvent(e)},r.preventScroll=e=>{e.preventDefault()},r.keydown=()=>{l.redraw()},r.wheel=e=>{let t=0<e.deltaY?-r.valrange.step:r.valrange.step;e.shiftKey||(t*=5),l.setValue(+l.value+t),e.preventDefault(),e.stopPropagation()},l.redraw=e=>{if(e||r.valueold!=l.value){var t=(l.value-r.valrange.min)/(r.valrange.max-r.valrange.min);if(1<=r.sprites)l.style.backgroundPosition="0px "+-(t*r.sprites|0)*r.frameheight+"px";else switch(r.itype){case"k":l.style.transform="rotate("+(270*t-135)+"deg)";break;case"h":l.style.backgroundPosition=(i-s)*t+"px 0px";break;case"v":l.style.backgroundPosition="0px "+(s-i)*(1-t)+"px"}r.valueold=l.value}},l.refresh(),l.redraw(!0),l.addEventListener("keydown",r.keydown,{passive:!0}),l.addEventListener("mousedown",r.pointerdown,{passive:!1}),l.addEventListener("touchstart",r.pointerdown,{passive:!1}),l.addEventListener("wheel",r.wheel,{passive:!1})}},a=()=>{let t=document.querySelectorAll("input.input-knob,input.input-slider");for(let e=0;e<t.length;++e)n.push([s,t[e]]);t=document.querySelectorAll("input[type=checkbox].input-switch,input[type=radio].input-switch");for(let e=0;e<t.length;++e)n.push([i,t[e]])},n=[];a(),setInterval(()=>{for(let e=0;0<n.length&&e<8;++e){var t=n.shift();t[0](t[1])}n.length<=0&&a()},50)}),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),FastBase64_encLookup=[];function FastBase64_Init(){for(var e=0;e<4096;e++)FastBase64_encLookup[e]=FastBase64_chars[e>>6]+FastBase64_chars[63&e]}function FastBase64_Encode(e){for(var t,i,s=e.length,a="",o=0;2<s;)n=e[o]<<16|e[o+1]<<8|e[o+2],a+=FastBase64_encLookup[n>>12]+FastBase64_encLookup[4095&n],s-=3,o+=3;return 0<s&&(i=(252&e[o])>>2,t=(3&e[o])<<4,1<s&&(t|=(240&e[++o])>>4),a=(a+=FastBase64_chars[i])+FastBase64_chars[t],2==s&&(i=(15&e[o++])<<2,a+=FastBase64_chars[i|=(192&e[o])>>6]),1==s&&(a+="="),a+="="),a}function u32ToArray(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function u16ToArray(e){return[255&e,e>>8&255]}function split16bitArray(e){for(var t=[],i=0,s=e.length,a=0;a<s;a++)t[i++]=255&e[a],t[i++]=e[a]>>8&255;return t}function MakeRiff(e,t,i){e={chunkId:[82,73,70,70],chunkSize:0,format:[87,65,86,69],subChunk1Id:[102,109,116,32],subChunk1Size:16,audioFormat:1,numChannels:1,sampleRate:e,byteRate:0,blockAlign:0,bitsPerSample:t,subChunk2Id:[100,97,116,97],subChunk2Size:0};return e.byteRate=e.sampleRate*e.numChannels*e.bitsPerSample>>3,e.blockAlign=e.numChannels*e.bitsPerSample>>3,e.subChunk2Size=i.length*(e.bitsPerSample>>3),e.chunkSize=36+e.subChunk2Size,{dat:[],wav:t=e.chunkId.concat(u32ToArray(e.chunkSize),e.format,e.subChunk1Id,u32ToArray(e.subChunk1Size),u16ToArray(e.audioFormat),u16ToArray(e.numChannels),u32ToArray(e.sampleRate),u32ToArray(e.byteRate),u16ToArray(e.blockAlign),u16ToArray(e.bitsPerSample),e.subChunk2Id,u32ToArray(e.subChunk2Size),16===e.bitsPerSample?split16bitArray(i):i),header:e,dataURI:"data:audio/wav;base64,"+FastBase64_Encode(t)}}FastBase64_Init(),"undefined"!=typeof exports&&(exports.RIFFWAVE=RIFFWAVE);let SAMPLE_RATE=44100,CONVERSION_FACTOR=2*Math.PI/SAMPLE_RATE;function checkAudioContextExists(){try{null==AUDIO_CONTEXT&&("undefined"!=typeof AudioContext?AUDIO_CONTEXT=new AudioContext:"undefined"!=typeof webkitAudioContext&&(AUDIO_CONTEXT=new webkitAudioContext))}catch(e){window.console.log(e)}}function ULBS(){var e;"suspended"===AUDIO_CONTEXT.state&&(e=function(){AUDIO_CONTEXT.resume().then(function(){document.body.removeEventListener("touchstart",e),document.body.removeEventListener("touchend",e),document.body.removeEventListener("mousedown",e),document.body.removeEventListener("mouseup",e),document.body.removeEventListener("keydown",e),document.body.removeEventListener("keyup",e)})},document.body.addEventListener("touchstart",e,!1),document.body.addEventListener("touchend",e,!1),document.body.addEventListener("mousedown",e,!1),document.body.addEventListener("mouseup",e,!1),document.body.addEventListener("keydown",e,!1),document.body.addEventListener("keyup",e,!1))}checkAudioContextExists();class RealizedSound{static MIN_SAMPLE_RATE=SAMPLE_RATE;constructor(e,t){this._buffer=AUDIO_CONTEXT.createBuffer(1,e,t)}getBuffer(){return this._buffer.getChannelData(0)}play(){ULBS();var e=AUDIO_CONTEXT.createBufferSource(),t=(e.buffer=this._buffer,e.connect(AUDIO_CONTEXT.destination),AUDIO_CONTEXT.currentTime);void 0!==e.start?e.start(t):e.noteOn(t),e.onended=function(){e.disconnect()}}getDataUri(){for(var e=this.getBuffer(),t=new Array(e.length),i=0;i<e.length;i++)t[i]=0|Math.floor(32768*Math.max(-1,Math.min(e[i],1)));return MakeRiff(SAMPLE_RATE,16,t).dataURI}static from_buffer(e){var t=new RealizedSound(e.length,RealizedSound.MIN_SAMPLE_RATE);return t._buffer.copyToChannel(e,0),t}}let PD_COSTABLESIZE=2048,PD_UNITBIT32=1572864,PD_HIOFFSET=1,PD_LOWOFFSET=0;function generate_tables(){COSTABLENAME=new Float32Array(PD_COSTABLESIZE+1);for(let e=0;e<PD_COSTABLESIZE;e++)COSTABLENAME[e]=Math.cos(2*Math.PI*e/PD_COSTABLESIZE);COSTABLENAME[0]=1,COSTABLENAME[PD_COSTABLESIZE]=1,COSTABLENAME[PD_COSTABLESIZE/4|0]=0,COSTABLENAME[3*PD_COSTABLESIZE/4|0]=0,COSTABLENAME[PD_COSTABLESIZE/2|0]=-1}function gt(t,i){var s=new Float32Array(t.length);for(let e=0;e<t.length;e++)s[e]=t[e]<i[e]?1:0;return s}generate_tables();var puredata_stream_length=0;function pd_set_stream_length_seconds(e){puredata_stream_length=e*SAMPLE_RATE}function pd_fn(t){var i=new Float32Array(puredata_stream_length);for(let e=0;e<i.length;e++)i[e]=t(e/SAMPLE_RATE);return i}function pd_noise(){var t=new Float32Array(puredata_stream_length);for(let e=0;e<t.length;e++)t[e]=2*Math.random()-1;return t}function pd_clip(t,i,s){var a=new Float32Array(t.length);for(let e=0;e<t.length;e++)a[e]=Math.max(i[e],Math.min(t[e],s[e]));return a}function pd_osc(t){var i=new Float32Array(t.length),s=(PD_UNITBIT32,2*Math.PI/SAMPLE_RATE);let a=0;for(let e=0;e<t.length;e++){for(a+=t[e]*s;a>=Math.PI;)a-=2*Math.PI;for(;a<-Math.PI;)a+=2*Math.PI;var n=(a+Math.PI)/(2*Math.PI)*PD_COSTABLESIZE|0,o=Math.floor(n)%PD_COSTABLESIZE,r=(1+o)%PD_COSTABLESIZE,l=COSTABLENAME[o],r=COSTABLENAME[r];i[e]=l+(n-o)*(r-l)}return i}function pd_mul(t,i){var s=new Float32Array(t.length);for(let e=0;e<t.length;e++)s[e]=t[e]*i[e];return s}function pd_div(t,i){var s=new Float32Array(t.length);for(let e=0;e<t.length;e++)s[e]=t[e]/i[e];return s}function pd_add(t,i){var s=new Float32Array(t.length);for(let e=0;e<t.length;e++)s[e]=t[e]+i[e];return s}function pd_polyadd(...i){var s=new Float32Array(i[0].length);for(let t=0;t<s.length;t++){s[t]=i[0][t];for(let e=1;e<i.length;e++)s[t]+=i[e][t]}return s}function pd_c(e){var t=new Float32Array(puredata_stream_length);return t.fill(e),t}function pd_abs(t){var i=new Float32Array(t.length);for(let e=0;e<t.length;e++)i[e]=Math.abs(t[e]);return i}function pd_sqrt(t){var i=new Float32Array(t.length);for(let e=0;e<t.length;e++)i[e]=Math.sqrt(t[e]);return i}function sigbp_qcos(e){return e>=-.5*Math.PI&&e<=.5*Math.PI?(e=e*e)*e*e*(-1/720)+e*e*(1/24)-.5*e+1:0}function pd_bp(a,n,o){var r=new Float32Array(a.length);let l=a[0],h=a[0];for(let s=0;s<a.length;s++){let e=n[s],t=o[s];e<.001&&(e=10),t<0&&(t=0);var d=e*(2*Math.PI)/SAMPLE_RATE;let i;var c=1-(i=1<(i=t<.001?1:d/t)?1:i),p=2*sigbp_qcos(d)*c,d=2*i*(i+c*d),p=a[s]+p*l+-c*c*h;r[s]=d*p,h=l,l=p}return r}function pd_lop(i,s){var a=new Float32Array(i.length);let n=i[0];for(let t=0;t<i.length;t++){let e=s[t]*CONVERSION_FACTOR;(e=1<e?1:e)<0&&(e=0),n=e*i[t]+(1-e)*n,a[t]=n}return a}function pd_hip(i,s){var a,n,o=new Float32Array(i.length);let r=i[0];for(let t=0;t<i.length;t++){let e=1-s[t]*CONVERSION_FACTOR;e<0?e=0:1<e&&(e=1),e<1?(a=.5*(1+e),n=i[t]+e*r,o[t]=a*(n-r),r=n):o[t]=i[t]}return o}function pd_vcf(s,a,n){var o=new Float32Array(s.length);let r=0,l=0;var h={d:0,i:new Uint32Array(2)},d=(h.d=PD_UNITBIT32,h.i[PD_HIOFFSET]);for(let i=0;i<s.length;i++){var c=n[i],p=0<c?1/c:0,c=2-2/(c+2),u=COSTABLENAME;let e=a[i]*CONVERSION_FACTOR;var m=(e=e<0?0:e)*(PD_COSTABLESIZE/6.28318);let t=0<p?1-e*p:0;var p=1-(t=t<0?0:t),m=m+PD_UNITBIT32,m=(h.d=m,h.i[PD_HIOFFSET]&PD_COSTABLESIZE-1),_=(h.i[PD_HIOFFSET]=d,h.d-PD_UNITBIT32),f=u[m],g=u[1+m],v=t*(f+_*(g-f)),f=u[m=m-PD_COSTABLESIZE/4&PD_COSTABLESIZE-1],g=u[1+m],u=t*(f+_*(g-f)),m=s[i],_=r;r=c*p*m+v*_-u*l,l=u*_+v*l,Math.abs(r)<1e-10&&(r=0),Math.abs(l)<1e-10&&(l=0),o[i]=r}return o}let puredata_modules={dirt:"#N canvas 283 84 1002 691 12;\r\n#X obj 54 309 *~;\r\n#X obj 72 47 inlet~;\r\n#X obj 76 443 outlet~;\r\n#X obj 138 59 switch~;\r\n#X obj 138 33 inlet;\r\n#X obj 128 221 osc~;\r\n#X obj 127 157 *~;\r\n#X obj 150 82 noise~;\r\n#X obj 150 127 *~ 70;\r\n#X obj 150 104 lop~ 80;\r\n#X obj 100 127 +~ 0.3;\r\n#X obj 128 242 hip~ 200;\r\n#X obj 71 126 *~;\r\n#X obj 70 148 *~;\r\n#X obj 18 250 osc~ 80;\r\n#X obj 18 228 +~ 40;\r\n#X obj 19 202 *~ 500;\r\n#X obj 77 394 +~;\r\n#X obj 127 264 clip~ -1 1;\r\n#X obj 128 179 *~ 70;\r\n#X obj 126 330 *~ 0.04;\r\n#X obj 55 332 *~ 0.5;\r\n#X obj 128 200 +~ 70;\r\n#X connect 0 0 21 0;\r\n#X connect 1 0 10 0;\r\n#X connect 1 0 12 0;\r\n#X connect 1 0 12 1;\r\n#X connect 4 0 3 0;\r\n#X connect 5 0 11 0;\r\n#X connect 6 0 19 0;\r\n#X connect 7 0 9 0;\r\n#X connect 8 0 6 1;\r\n#X connect 9 0 8 0;\r\n#X connect 10 0 6 0;\r\n#X connect 11 0 18 0;\r\n#X connect 12 0 13 0;\r\n#X connect 12 0 13 1;\r\n#X connect 13 0 0 1;\r\n#X connect 13 0 16 0;\r\n#X connect 14 0 0 0;\r\n#X connect 15 0 14 0;\r\n#X connect 16 0 15 0;\r\n#X connect 17 0 2 0;\r\n#X connect 18 0 20 0;\r\n#X connect 19 0 22 0;\r\n#X connect 20 0 17 1;\r\n#X connect 21 0 17 0;\r\n#X connect 22 0 5 0;\r\n",grass:"#N canvas 136 86 1002 691 12;\r\n#X obj 293 399 *~;\r\n#X obj 311 137 inlet~;\r\n#X obj 401 564 outlet~;\r\n#X obj 310 216 *~;\r\n#X obj 309 238 *~;\r\n#X obj 257 340 osc~ 80;\r\n#X obj 401 527 +~;\r\n#X obj 294 422 *~ 0.8;\r\n#X obj 257 318 +~ 30;\r\n#X obj 257 292 *~ 600;\r\n#X obj 257 364 clip~ 0 0.5;\r\n#X obj 591 98 noise~;\r\n#X obj 598 269 lop~ 16;\r\n#X obj 493 231 *~;\r\n#X obj 493 255 *~;\r\n#X obj 599 295 *~ 23800;\r\n#X obj 492 159 /~;\r\n#X obj 521 132 lop~ 2000;\r\n#X obj 459 132 lop~ 300;\r\n#X obj 492 298 clip~ -0.9 0.9;\r\n#X obj 599 317 +~ 3400;\r\n#X obj 492 276 *~ 1e-05;\r\n#X obj 492 196 hip~ 2500;\r\n#X obj 477 472 *~;\r\n#X obj 599 342 clip~ 2000 10000;\r\n#X obj 493 418 hip~ 900;\r\n#X obj 493 450 *~ 0.3;\r\n#X obj 493 388 vcf~ 3333 1;\r\n#X connect 0 0 7 0;\r\n#X connect 1 0 3 0;\r\n#X connect 1 0 3 1;\r\n#X connect 1 0 23 0;\r\n#X connect 3 0 4 0;\r\n#X connect 3 0 4 1;\r\n#X connect 4 0 0 1;\r\n#X connect 4 0 9 0;\r\n#X connect 5 0 10 0;\r\n#X connect 6 0 2 0;\r\n#X connect 7 0 6 0;\r\n#X connect 8 0 5 0;\r\n#X connect 9 0 8 0;\r\n#X connect 10 0 0 0;\r\n#X connect 11 0 12 0;\r\n#X connect 11 0 17 0;\r\n#X connect 11 0 18 0;\r\n#X connect 12 0 15 0;\r\n#X connect 13 0 14 0;\r\n#X connect 13 0 14 1;\r\n#X connect 14 0 21 0;\r\n#X connect 15 0 20 0;\r\n#X connect 16 0 22 0;\r\n#X connect 17 0 16 1;\r\n#X connect 18 0 16 0;\r\n#X connect 19 0 27 0;\r\n#X connect 20 0 24 0;\r\n#X connect 21 0 19 0;\r\n#X connect 22 0 13 0;\r\n#X connect 22 0 13 1;\r\n#X connect 23 0 6 1;\r\n#X connect 24 0 27 1;\r\n#X connect 25 0 26 0;\r\n#X connect 26 0 23 1;\r\n#X connect 27 0 25 0;\r\n",gravel:"#N canvas 772 379 1002 691 12;\n#X obj 123 19 inlet~;\n#X obj 123 499 outlet~;\n#X obj 252 14 noise~;\n#X obj 136 160 *~;\n#X obj 136 107 /~;\n#X obj 166 70 lop~ 2000;\n#X obj 104 70 lop~ 300;\n#X obj 137 241 clip~ -0.9 0.9;\n#X obj 122 475 *~;\n#X obj 156 380 clip~ 500 10000;\n#X obj 154 271 lop~ 50;\n#X obj 137 134 hip~ 400;\n#X obj 137 219 *~ 0.01;\n#X obj 155 297 *~ 50000;\n#X obj 138 430 hip~ 200;\n#X obj 138 453 *~ 2;\n#X obj 156 355 +~;\n#X obj 173 330 *~ 1000;\n#X obj 138 406 vcf~ 200 3;\n#X connect 0 0 8 0;\n#X connect 0 0 17 0;\n#X connect 2 0 5 0;\n#X connect 2 0 6 0;\n#X connect 2 0 10 0;\n#X connect 3 0 12 0;\n#X connect 4 0 11 0;\n#X connect 5 0 4 1;\n#X connect 6 0 4 0;\n#X connect 7 0 18 0;\n#X connect 8 0 1 0;\n#X connect 9 0 18 1;\n#X connect 10 0 13 0;\n#X connect 11 0 3 0;\n#X connect 11 0 3 1;\n#X connect 12 0 7 0;\n#X connect 13 0 16 0;\n#X connect 14 0 15 0;\n#X connect 15 0 8 1;\n#X connect 16 0 9 0;\n#X connect 17 0 16 1;\n#X connect 18 0 14 0;\n",snow:"#N canvas 768 303 857 606 12;\r\n#X obj 161 453 *~;\r\n#X obj 109 225 noise~;\r\n#X obj 102 270 /~;\r\n#X obj 103 343 clip~ -1 1;\r\n#X obj 60 247 lop~ 110;\r\n#X obj 121 246 lop~ 900;\r\n#X obj 166 169 noise~;\r\n#X obj 165 219 /~;\r\n#X obj 123 196 lop~ 50;\r\n#X obj 184 195 lop~ 70;\r\n#X obj 103 290 *~;\r\n#X obj 192 220 lop~ 10;\r\n#X obj 191 241 *~ 17;\r\n#X obj 190 264 *~;\r\n#X obj 103 313 *~;\r\n#X obj 189 286 +~ 0.5;\r\n#X obj 424 130 inlet~;\r\n#X obj 160 507 outlet~;\r\n#X obj 102 365 hip~ 300;\r\n#X obj 185 389 +~ 700;\r\n#X obj 185 365 *~ 9000;\r\n#X obj 162 476 *~ 0.2;\r\n#X obj 146 412 vcf~ 200 0.5;\r\n#X connect 0 0 21 0;\r\n#X connect 1 0 4 0;\r\n#X connect 1 0 5 0;\r\n#X connect 2 0 10 0;\r\n#X connect 3 0 18 0;\r\n#X connect 4 0 2 0;\r\n#X connect 5 0 2 1;\r\n#X connect 6 0 8 0;\r\n#X connect 6 0 9 0;\r\n#X connect 6 0 11 0;\r\n#X connect 7 0 10 1;\r\n#X connect 8 0 7 0;\r\n#X connect 9 0 7 1;\r\n#X connect 10 0 14 0;\r\n#X connect 11 0 12 0;\r\n#X connect 12 0 13 0;\r\n#X connect 12 0 13 1;\r\n#X connect 13 0 15 0;\r\n#X connect 14 0 3 0;\r\n#X connect 15 0 14 1;\r\n#X connect 16 0 0 1;\r\n#X connect 16 0 20 0;\r\n#X connect 18 0 22 0;\r\n#X connect 19 0 22 1;\r\n#X connect 20 0 19 0;\r\n#X connect 21 0 17 0;\r\n#X connect 22 0 0 0;\r\n",wood:"#N canvas 945 155 1270 731 12;\r\n#X obj 470 445 *~;\r\n#X obj 181 142 inlet~;\r\n#X obj 401 564 outlet~;\r\n#X obj 180 221 *~;\r\n#X obj 401 527 +~;\r\n#X obj 466 255 noise~;\r\n#X obj 419 322 *~ 6;\r\n#X obj 801 262 noise~;\r\n#X obj 355 423 *~;\r\n#X obj 737 287 bp~ 123 20;\r\n#X obj 180 251 *~ 2;\r\n#X obj 336 293 bp~ 95 90;\r\n#X obj 411 291 bp~ 134 90;\r\n#X obj 489 290 bp~ 139 90;\r\n#X obj 567 290 bp~ 154 90;\r\n#X obj 815 286 bp~ 156 90;\r\n#X obj 893 286 bp~ 189 90;\r\n#X obj 745 318 *~ 8;\r\n#X obj 662 289 bp~ 201 70;\r\n#X obj 243 258 sqrt~;\r\n#X obj 356 449 *~ 0.5;\r\n#X obj 469 469 *~ 0.6;\r\n#X connect 0 0 21 0;\r\n#X connect 1 0 3 0;\r\n#X connect 1 0 3 1;\r\n#X connect 1 0 19 0;\r\n#X connect 3 0 10 0;\r\n#X connect 4 0 2 0;\r\n#X connect 5 0 11 0;\r\n#X connect 5 0 12 0;\r\n#X connect 5 0 13 0;\r\n#X connect 5 0 14 0;\r\n#X connect 6 0 8 1;\r\n#X connect 7 0 9 0;\r\n#X connect 7 0 15 0;\r\n#X connect 7 0 16 0;\r\n#X connect 7 0 18 0;\r\n#X connect 8 0 20 0;\r\n#X connect 9 0 17 0;\r\n#X connect 10 0 0 0;\r\n#X connect 11 0 6 0;\r\n#X connect 12 0 6 0;\r\n#X connect 13 0 6 0;\r\n#X connect 14 0 6 0;\r\n#X connect 15 0 17 0;\r\n#X connect 16 0 17 0;\r\n#X connect 17 0 0 1;\r\n#X connect 18 0 17 0;\r\n#X connect 19 0 8 0;\r\n#X connect 20 0 4 0;\r\n#X connect 21 0 4 1;\r\n"};var puredata_functions={},puredata_function_names=Object.keys(puredata_modules);function pd_compile(e){var t=(t=(e=(e=e.replace(/;/g,"")).replace(/\r/g,"")).split("\n")).map(e=>e.split(" ")),i=[],s=[];for(let e=0;e<t.length;e++){var a=t[e];switch(a[1]){case"obj":i.push(a.slice(4));break;case"msg":i.push(["sig~",a[4]]);break;case"connect":var n={from_ob:parseInt(a[2]),from_slot:parseInt(a[3]),to_ob:parseInt(a[4]),to_slot:parseInt(a[5])};s.push(n)}}e=i.findIndex(e=>"outlet~"===e[0]),e=build_function_body(build_function_tree(i,s,e));return new Function("envelope_signal",e)}var function_info={"outlet~":{input_slots:1,parameter_indices:[],js_name:"outlet~"},"inlet~":{input_slots:0,parameter_indices:[],js_name:"inlet~"},"*~":{input_slots:2,parameter_indices:[1],js_name:"pd_mul"},"/~":{input_slots:2,parameter_indices:[1],js_name:"pd_div"},"+~":{input_slots:2,parameter_indices:[1],js_name:"pd_add"},"sig~":{input_slots:1,parameter_indices:[0],js_name:"pd_c"},"vcf~":{input_slots:3,parameter_indices:[2],js_name:"pd_vcf"},"hip~":{input_slots:2,parameter_indices:[1],js_name:"pd_hip"},"lop~":{input_slots:2,parameter_indices:[1],js_name:"pd_lop"},"noise~":{input_slots:0,parameter_indices:[],js_name:"pd_noise"},"clip~":{input_slots:3,parameter_indices:[1,2],js_name:"pd_clip"},"osc~":{input_slots:1,parameter_indices:[0],js_name:"pd_osc"},"bp~":{input_slots:3,parameter_indices:[1,2],js_name:"pd_bp"},"sqrt~":{input_slots:1,parameter_indices:[0],js_name:"pd_sqrt"}};function build_function_tree(t,i,s){var e=t[s],a=e[0],e=e.slice(1);function_info.hasOwnProperty(a)||console.error("Unknown function: "+a);var n=function_info[a].input_slots,o=Array(n).fill().map(()=>[]),r=i.filter(e=>e.to_ob===s);for(let e=0;e<r.length;e++){var l=r[e],h=build_function_tree(t,i,l.from_ob);o[l.to_slot].push(h)}return{node_name:a,inputs:o,constructor_arguments:e,node_id:s}}function assign_variable_names(i,s,a){(!a.hasOwnProperty(i.node_id)||a[i.node_id]<s)&&(a[i.node_id]=s),s++;for(let t=0;t<i.inputs.length;t++)for(let e=0;e<i.inputs[t].length;e++)s=assign_variable_names(i.inputs[t][e],s,a);return s}function reslot_constructor_arguments(e,t){var i=function_info[e];if("vcf~"===e&&2===t.length)return[-1,t[0],t[1]];var s=i.input_slots,a=i.parameter_indices,n=Array(s).fill(-1);for(let e=0;e<s;e++)n[a[e]]=t[e];return n}function flatten_syntax_tree(t,i,s){var a={node_name:t.node_name,node_id:t.node_id,node_idx:s[t.node_id],constructor_arguments:reslot_constructor_arguments(t.node_name,t.constructor_arguments),inputs:[]};for(let e=0;e<t.inputs.length;e++){var n=t.inputs[e],o=[];for(let e=0;e<n.length;e++){var r=n[e],l=s[r.node_id];o.push(l),flatten_syntax_tree(r,i,s)}a.inputs.push(o)}i.push(a)}function strip_duplicate_nodes(t){var i=[];for(let e=0;e<t.length;e++){var s=t[e];i.includes(s.node_id)&&(t.splice(e,1),e--),i.push(s.node_id)}}function build_function_body(e){var t={},i=(assign_variable_names(e,0,t),[]),s=(flatten_syntax_tree(e,i,t),strip_duplicate_nodes(i),i.sort((e,t)=>t.node_idx-e.node_idx),"");for(let e=0;e<i.length;e++){var a=i[e],n="";for(let e=0;e<a.inputs.length;e++){0<e&&(n+=",");var o=a.inputs[e];0===o.length?-1===a.constructor_arguments[e]?n+="NULL":n+=`pd_c(${a.constructor_arguments[e]})`:1===o.length?n+="s_"+o[0]:n+=`pd_polyadd(${o.map(e=>"s_"+e).join(",")})`}var r=a.node_name;"inlet~"===r?s+=`const s_${a.node_idx} = envelope_signal;
`:"outlet~"===r?s+=`const s_${a.node_idx} = ${n};
`:(function_info.hasOwnProperty(a.node_name)?r=function_info[a.node_name].js_name:console.error("Unknown function: "+a.node_name),s+=`const s_${a.node_idx} = ${r}(${n});
`)}return s+=`return s_0;
`}for(let e=0;e<puredata_function_names.length;e++){var function_name=puredata_function_names[e],pd_source=puredata_modules[function_name],pd_compiled=pd_compile(pd_source);puredata_functions[function_name]=pd_compiled}class PinkNumber{constructor(){this.max_key=31,this.range=128,this.key=0,this.white_values=new Int32Array(5);for(var e=0;e<5;e++)this.white_values[e]=Math.random()*(this.range/5)}GetNextValue(){for(var e=this.key,t=(this.key++,this.key>this.max_key&&(this.key=0),e^this.key),i=0,s=0;s<5;s++)t&1<<s&&(this.white_values[s]=Math.random()*(this.range/5)),i+=this.white_values[s];return i/64-1}}class Bfxr_DSP{static version="1.0.4";static MIN_LENGTH=.18;static LoResNoisePeriod=8;static sampleRate=44100;static bitDepth=16;constructor(e,t){this.params=e,this.param_info=t,this.reset(!0)}reset(e=!0){var t,i,s,a,n,o=this.params;if(this.period=100/(o.startFrequency*o.startFrequency+.001),this.maxPeriod=100/(o.minFrequency*o.minFrequency+.001),this.slide=1-o.slide*o.slide*o.slide*.01,this.deltaSlide=-o.deltaSlide*o.deltaSlide*o.deltaSlide*1e-6,!0|o.waveType&&(this.squareDuty=.5-.5*o.squareDuty,this.dutySweep=5e-5*-o.dutySweep),this.changePeriod=2e4*Math.max((1-o.changeRepeat+.1)/1.1)+32,(this.changePeriodTime=0)<o.changeAmount?this.changeAmount=1-o.changeAmount*o.changeAmount*.9:this.changeAmount=1+o.changeAmount*o.changeAmount*10,this.changeTime=0,this.changeReached=!1,1==o.changeSpeed?this.changeLimit=0:this.changeLimit=(1-o.changeSpeed)*(1-o.changeSpeed)*2e4+32,0<o.changeAmount2?this.changeAmount2=1-o.changeAmount2*o.changeAmount2*.9:this.changeAmount2=1+o.changeAmount2*o.changeAmount2*10,this.changeTime2=0,this.changeReached2=!1,1==o.changeSpeed2?this.changeLimit2=0:this.changeLimit2=(1-o.changeSpeed2)*(1-o.changeSpeed2)*2e4+32,this.changeLimit*=(1-o.changeRepeat+.1)/1.1,this.changeLimit2*=(1-o.changeRepeat+.1)/1.1,this.masterVolume=o.masterVolume*o.masterVolume,e){this.waveType=0|o.waveType,o.sustainTime<.01&&(o.sustainTime=.01),this.clampTotalLength(o),this.sustainPunch=o.sustainPunch,this.phase=0,this.minFreqency=o.minFrequency,this.muted=!1,this.overtones=10*o.overtones,this.overtoneFalloff=o.overtoneFalloff,this.bitcrush_freq=1-Math.pow(o.bitCrush,1/3),this.bitcrush_freq_sweep=15e-6*-o.bitCrushSweep,this.bitcrush_phase=0,this.bitcrush_last=0,this.compression_factor=1/(1+4*o.compressionAmount),this.filters=1!=o.lpFilterCutoff||0!=o.hpFilterCutoff,this.lpFilterPos=0,this.lpFilterDeltaPos=0,this.lpFilterCutoff=o.lpFilterCutoff*o.lpFilterCutoff*o.lpFilterCutoff*.1,this.lpFilterDeltaCutoff=1+1e-4*o.lpFilterCutoffSweep,this.lpFilterDamping=5/(1+o.lpFilterResonance*o.lpFilterResonance*20)*(.01+this.lpFilterCutoff),.8<this.lpFilterDamping&&(this.lpFilterDamping=.8),this.lpFilterDamping=1-this.lpFilterDamping,this.lpFilterOn=1!=o.lpFilterCutoff,this.hpFilterPos=0,this.hpFilterCutoff=o.hpFilterCutoff*o.hpFilterCutoff*.1,this.hpFilterDeltaCutoff=1+3e-4*o.hpFilterCutoffSweep,this.vibratoPhase=0,this.vibratoSpeed=o.vibratoSpeed*o.vibratoSpeed*.01,this.vibratoAmplitude=.5*o.vibratoDepth,this.envelopeVolume=0,this.envelopeStage=0,this.envelopeTime=0,this.envelopeLength0=o.attackTime*o.attackTime*1e5,this.envelopeLength1=o.sustainTime*o.sustainTime*1e5,this.envelopeLength2=o.decayTime*o.decayTime*1e5+10,this.envelopeLength=this.envelopeLength0,this.envelopeFullLength=this.envelopeLength0+this.envelopeLength1+this.envelopeLength2,this.envelopeOverLength0=1/this.envelopeLength0,this.envelopeOverLength1=1/this.envelopeLength1,this.envelopeOverLength2=1/this.envelopeLength2,this.flanger=0!=o.flangerOffset||0!=o.flangerSweep,this.flangerOffset=o.flangerOffset*o.flangerOffset*1020,o.flangerOffset<0&&(this.flangerOffset=-this.flangerOffset),this.flangerDeltaOffset=o.flangerSweep*o.flangerSweep*o.flangerSweep*.2,this.flangerPos=0,this.flangerBuffer||(this.flangerBuffer=new Float32Array(1024)),this.noiseBuffer||(this.noiseBuffer=new Float32Array(32)),this.pinkNoiseBuffer||(this.pinkNoiseBuffer=new Float32Array(32)),this.loResNoiseBuffer||(this.loResNoiseBuffer=new Float32Array(32)),this.pinkNumber||(this.pinkNumber=new PinkNumber),this.oneBitNoiseState=16384,this.oneBitNoise=0,this.buzzState=16384;for(var r=this.buzz=0;r<1024;r++)this.flangerBuffer[r]=0;for(r=0;r<32;r++)this.noiseBuffer[r]=2*Math.random()-1;for(r=0;r<32;r++)this.pinkNoiseBuffer[r]=this.pinkNumber.GetNextValue();for(r=0;r<32;r++)this.loResNoiseBuffer[r]=r%Bfxr_DSP.LoResNoisePeriod==0?2*Math.random()-1:this.loResNoiseBuffer[r-1];(this.repeatTime=0)==o.repeatSpeed?this.repeatLimit=0:this.repeatLimit=(1-o.repeatSpeed)*(1-o.repeatSpeed)*2e4|32}9!=this.waveType&&11!=this.waveType||(e=o.startFrequency,o=o.minFrequency,t=this.param_info.param_min("startFrequency"),s=((i=this.param_info.param_max("startFrequency"))+t)/2,a=this.param_info.param_min("minFrequency"),o=((n=this.param_info.param_max("minFrequency"))+a)/2+(o-a)/(n-a),this.period=100/((e=s+(e-t)/(i-t))*e+.001),this.maxPeriod=100/(o*o+.001))}clampTotalLength(e){var t=e.attackTime+e.sustainTime+e.decayTime;t<Bfxr_DSP.MIN_LENGTH&&(t=Bfxr_DSP.MIN_LENGTH/t,e.attackTime=e.attackTime*t,e.sustainTime=e.sustainTime*t,e.decayTime=e.decayTime*t)}generate_sound(){for(var e=new Float32Array(this.envelopeFullLength),t=(this.sampleCount=0,this.envelopeFullLength),i=!1,s=0;s<t;s++){if(i)return!0;if(0!=this.repeatLimit&&++this.repeatTime>=this.repeatLimit&&(this.repeatTime=0,this.reset(!1)),this.changePeriodTime++,this.changePeriodTime>=this.changePeriod&&(this.changeTime=0,this.changeTime2=0,this.changePeriodTime=0,this.changeReached&&(this.period/=this.changeAmount,this.changeReached=!1),this.changeReached2)&&(this.period/=this.changeAmount2,this.changeReached2=!1),this.changeReached||++this.changeTime>=this.changeLimit&&(this.changeReached=!0,this.period*=this.changeAmount),this.changeReached2||++this.changeTime2>=this.changeLimit2&&(this.period*=this.changeAmount2,this.changeReached2=!0),this.slide+=this.deltaSlide,this.period*=this.slide,this.period>this.maxPeriod&&(this.period=this.maxPeriod,0<this.minFreqency)&&(this.muted=!0),this.periodTemp=this.period,0<this.vibratoAmplitude&&(this.vibratoPhase+=this.vibratoSpeed,this.periodTemp=this.period*(1+Math.sin(this.vibratoPhase)*this.vibratoAmplitude)),this.periodTemp=0|this.periodTemp,this.periodTemp<8&&(this.periodTemp=8),0==this.waveType&&(this.squareDuty+=this.dutySweep,this.squareDuty<0?this.squareDuty=0:.5<this.squareDuty&&(this.squareDuty=.5)),++this.envelopeTime>this.envelopeLength)switch(this.envelopeTime=0,++this.envelopeStage){case 1:this.envelopeLength=this.envelopeLength1;break;case 2:this.envelopeLength=this.envelopeLength2}switch(this.envelopeStage){case 0:this.envelopeVolume=this.envelopeTime*this.envelopeOverLength0;break;case 1:this.envelopeVolume=1+2*(1-this.envelopeTime*this.envelopeOverLength1)*this.sustainPunch;break;case 2:this.envelopeVolume=1-this.envelopeTime*this.envelopeOverLength2;break;case 3:i=!(this.envelopeVolume=0)}this.flanger&&(this.flangerOffset+=this.flangerDeltaOffset,this.flangerInt=0|this.flangerOffset,this.flangerInt<0?this.flangerInt=-this.flangerInt:1023<this.flangerInt&&(this.flangerInt=1023)),this.filters&&0!=this.hpFilterDeltaCutoff&&(this.hpFilterCutoff*=this.hpFilterDeltaCutoff,this.hpFilterCutoff<1e-5?this.hpFilterCutoff=1e-5:.1<this.hpFilterCutoff&&(this.hpFilterCutoff=.1));for(var a,n=this.superSample=0;n<8;n++){if(this.phase++,this.phase>=this.periodTemp)if(this.phase=this.phase-this.periodTemp,3==this.waveType)for(var o=0;o<32;o++)this.noiseBuffer[o]=2*Math.random()-1;else if(5==this.waveType)for(o=0;o<32;o++)this.pinkNoiseBuffer[o]=this.pinkNumber.GetNextValue();else if(6==this.waveType)for(o=0;o<32;o++)this.loResNoiseBuffer[o]=o%Bfxr_DSP.LoResNoisePeriod==0?2*Math.random()-1:this.loResNoiseBuffer[o-1];else 9==this.waveType?(a=this.oneBitNoiseState>>1&1^1&this.oneBitNoiseState,this.oneBitNoiseState=this.oneBitNoiseState>>1|a<<14,this.oneBitNoise=(1&~this.oneBitNoiseState)-.5):11==this.waveType&&(a=this.buzzState>>3&1^1&this.buzzState,this.buzzState=this.buzzState>>1|a<<14,this.buzz=(1&~this.buzzState)-.5);for(var r=1,l=this.sample=0;l<=this.overtones;l++){var h=this.phase*(l+1)%this.periodTemp,d=this.waveType;switch(d=10==d?Math.floor(this.phase/4)%10:d){case 0:this.sample+=r*(h/this.periodTemp<this.squareDuty?.5:-.5);break;case 1:this.sample+=r*(1-h/this.periodTemp*2);break;case 2:this.pos=h/this.periodTemp,this.pos=.5<this.pos?6.28318531*(this.pos-1):6.28318531*this.pos;var c=this.pos<0?1.27323954*this.pos+.405284735*this.pos*this.pos:1.27323954*this.pos-.405284735*this.pos*this.pos;this.sample+=r*(c<0?.225*(c*-c-c)+c:.225*(c*c-c)+c);break;case 3:this.sample+=r*this.noiseBuffer[(32*h/(0|this.periodTemp)|0)%32];break;case 4:this.sample+=r*(Math.abs(1-h/this.periodTemp*2)-1);break;case 5:this.sample+=r*this.pinkNoiseBuffer[(32*h/(0|this.periodTemp)|0)%32];break;case 6:this.sample+=Math.tan(Math.PI*h/this.periodTemp)*r;break;case 7:this.pos=h/this.periodTemp,this.pos=.5<this.pos?6.28318531*(this.pos-1):6.28318531*this.pos;var p=.75*((c=this.pos<0?1.27323954*this.pos+.405284735*this.pos*this.pos:1.27323954*this.pos-.405284735*this.pos*this.pos)<0?.225*(c*-c-c)+c:.225*(c*c-c)+c);this.pos=20*h%this.periodTemp/this.periodTemp,this.pos=.5<this.pos?6.28318531*(this.pos-1):6.28318531*this.pos,p+=.25*((c=this.pos<0?1.27323954*this.pos+.405284735*this.pos*this.pos:1.27323954*this.pos-.405284735*this.pos*this.pos)<0?.225*(c*-c-c)+c:.225*(c*c-c)+c),this.sample+=r*p;break;case 8:p=h/this.periodTemp;this.sample+=r*(Math.abs(1-p*p*2)-1);break;case 9:this.sample+=r*this.oneBitNoise;break;case 11:this.sample+=r*this.buzz}r*=1-this.overtoneFalloff}this.filters&&(this.lpFilterOldPos=this.lpFilterPos,this.lpFilterCutoff*=this.lpFilterDeltaCutoff,this.lpFilterCutoff<0?this.lpFilterCutoff=0:.1<this.lpFilterCutoff&&(this.lpFilterCutoff=.1),this.lpFilterOn?(this.lpFilterDeltaPos+=(this.sample-this.lpFilterPos)*this.lpFilterCutoff,this.lpFilterDeltaPos*=this.lpFilterDamping):(this.lpFilterPos=this.sample,this.lpFilterDeltaPos=0),this.lpFilterPos+=this.lpFilterDeltaPos,this.hpFilterPos+=this.lpFilterPos-this.lpFilterOldPos,this.hpFilterPos*=1-this.hpFilterCutoff,this.sample=this.hpFilterPos),this.flanger&&(this.flangerBuffer[1023&this.flangerPos]=this.sample,this.sample+=this.flangerBuffer[this.flangerPos-this.flangerInt+1024&1023],this.flangerPos=this.flangerPos+1&1023),this.superSample+=this.sample}8<this.superSample?this.superSample=8:this.superSample<-8&&(this.superSample=-8),this.superSample=this.masterVolume*this.envelopeVolume*this.superSample*.125,this.bitcrush_phase+=this.bitcrush_freq,1<this.bitcrush_phase&&(this.bitcrush_phase=0,this.bitcrush_last=this.superSample),this.bitcrush_freq=Math.max(Math.min(this.bitcrush_freq+this.bitcrush_freq_sweep,1),0),this.superSample=this.bitcrush_last,0<this.superSample?this.superSample=Math.pow(this.superSample,this.compression_factor):this.superSample=-Math.pow(-this.superSample,this.compression_factor),this.muted&&(this.superSample=0),e[s]=Math.clamp(this.superSample,-1,1)}this.buffer=e}}class SynthTemplate{sound=null;params={};locked_params={};default_params(){for(var e={},t=0;t<this.param_info.length;t++){var i=this.param_info[t];if(i.constructor===Array){var s=i[2],a=i[3];e[s]=a}else switch(i.type){case"BUTTONSELECT":e[i.name]=i.default_value;break;case"KNOB_TRANSITION":e[i.name]=i.default_value_l;break;default:console.error("Unknown param type: "+i.type)}}return e}create_random_preset(){this.reset_params();var e=Math.floor(Math.random()*this.presets.length),e=this.presets[e],t=(e[0],e[3]);return this[e[2]](),[t,this.params]}apply_params(e,t=!1){for(var i in e)t&&this.locked_params[i]||(this.params[i]=e[i])}reset_params(e=!1){var t=this.default_params();this.apply_params(t,e)}post_initialize(){this.params=this.default_params(),this.create_locked_params_array()}create_locked_params_array(){if(!this.locked_params){this.locked_params={};for(var e=0;e<this.param_info.length;e++){var t=this.param_info[e];this.locked_params[t[0]]=!1}}}get_param_uniformized(e){var t={};if(e.constructor===Array)t.name=e[2],t.default_value=e[3],t.min_value=e[4],t.max_value=e[5],t.type="RANGE";else switch(e.type){case"BUTTONSELECT":t.name=e.name,t.default_value=e.default_value,t.min_value=0,t.max_value=e.values.length,t.type="BUTTONSELECT";break;case"KNOB_TRANSITION":t.name=e.name,t.default_value=e.default_value_l,t.min_value=e.min,t.max_value=e.max,t.type="KNOB_TRANSITION";break;default:console.error("Don't know how to uniformize param type: "+e.type)}return t}param_min(e){for(var t=0;t<this.param_info.length;t++){var i=this.param_info[t],i=this.get_param_uniformized(i);if(i.name===e)return i.min_value}return console.error("Could not find param: "+e),0}param_max(e){for(var t=0;t<this.param_info.length;t++){var i=this.param_info[t],i=this.get_param_uniformized(i);if(i.name===e)return i.max_value}return console.error("Could not find param: "+e),1}param_default(e){for(var t=0;t<this.param_info.length;t++){var i=this.param_info[t],i=this.get_param_uniformized(i);if(i.name===e)return i.default_value}return console.error("Could not find param: "+e),0}set_param(e,t,i=!1){var s;e in this.params?i&&this.locked_params[e]||(i=this.param_min(e),s=this.param_max(e),this.params[e]=Math.clamp(t,i,s)):console.error("Could not set parameter (not found): "+e)}get_param(e){return e in this.params?this.params[e]:(console.error("Could not get parameter (not found): "+e),0)}randomize_params(){this.reset_params(!0);for(var e=0;e<this.param_info.length;e++){var t,i,s=this.param_info[e],s=this.get_param_uniformized(s);this.locked_params[s.name]||(i=s.min_value,t=s.max_value,i=Math.random()*(t-i)+i,"BUTTONSELECT"===s.type&&t<=(i=Math.floor(i))&&(i=t-1),this.set_param(s.name,i))}}mutate_params(){for(var e,t,i=0;i<this.param_info.length;i++)Math.random()<.5||this.locked_params[this.param_info[i][2]]||(e=this.param_info[i],"RANGE"===(e=this.get_param_uniformized(e)).type&&(t=e.max_value-e.min_value,t=.1*(Math.random()-.5)*t,t=this.params[e.name]+t,this.set_param(e.name,t)))}play(){this.generate_sound(),this.sound.play()}generate_sound_uri(){return this.sound.getDataUri()}generateSilhouette(e){for(var t=[],i=this.sound.getBuffer(),s=0,a=i[0],n=i[0],o=i.length,r=0;r<o;r++){var l=i[r];s/e<r/o?(t.push(a),t.push(n),s++,a=n=l):(l<n&&(n=l),a<l&&(a=l))}return t.push(a),t.push(n),t}drawWaveform(e){for(var t=e.canvas.width,i=e.canvas.height,s=this.generateSilhouette(i),a=(e.beginPath(),e.lineWidth="1",e.strokeStyle="#663931",t/2),n=0;n<i;n++){var o=a+ +s[2*n+0]*a,r=a+ +s[2*n+1]*a;e.moveTo(o,i-n),e.lineTo(r,i-n)}e.stroke()}generate_sound(){console.error("generate_sound not implemented");var e=new Float32Array(1);this.sound=RealizedSound.from_buffer(e)}set_sound(e){this.sound=e}}class Bfxr extends SynthTemplate{name="Bfxr";version=Bfxr_DSP.version;tooltip="Bfxr is a simple sound effect generator, based on DrPetter's Sfxr.";canvas_bg_logo="img/logo_bfxr.png";header_properties=["waveform"];default_locked=["masterVolume"];hide_params=["masterVolume"];param_info=[["Sound Volume","Overall volume of the current sound.","masterVolume",.5,0,1],{type:"BUTTONSELECT",name:"waveType",display_name:"",tooltip:"",default_value:0,columns:4,header:!0,values:[["Triangle","Triangle waves are robust at all frequencies, stand out quite well in most situations, and have a clear, resonant quality.",4],["Sin","Sin waves are the most elementary of all wave-types.  However, they can be sensitive to context (background noise or accoustics can drown them out sometimes), so be careful.",2],["Square","quare waves can be quite powerful.  They have two extra properties, Square Duty and Duty Sweep, that can further control the timbre of the wave.",0],["Saw","Saw waves are pretty raspy",1],["Breaker","These are defined by a quadratic equation (a=t*t%1, giving a toothed-shaped), making them a little more hi-fi than other wave-types on this list.  For the most part, like a smoother, slicker triangle wave.",8],["Tan","A potentially crazy wave.  Does strange things.  Tends to produce plenty of distortion\t (because the basic shape goes outside of the standard waveform range).",6],["Whistle","A sin wave with an additional sine wave overlayed at a lower amplitude and 20x the frequency.  It can end up sounding buzzy, hollow, resonant, or breathy.",7],["White","White noise is your bog standard random number stream.  Quite hard-sounding, compared to pink noise.",3],["Pink","Pink noise is a stream of random numbers with a filtered frequency spectrum to make it softer than white noise.",5],["Bitnoise",'Periodic 1-bit "white" noise. Useful for glitchy and punky sound effects.',9],["Buzz","Periodic 1-bit noise with a shortened period. It makes a nice digital buzz or clang sound.",11],["Holo","A pretty dense mix of lots of waveforms.  Breathier/distorteder than the classic ones.",10]]},["Attack Time","Length of the volume envelope attack.","attackTime",0,0,1],["Sustain Time","Length of the volume envelope sustain.","sustainTime",.3,0,1],["Punch","Tilts the sustain envelope for more 'pop'.","sustainPunch",0,0,1],["Decay Time","Length of the volume envelope decay (yes, I know it's called release).","decayTime",.4,0,1],["Compression","Pushes amplitudes together into a narrower range to make them stand out more.  Very good for sound effects, where you want them to stick out against background music.","compressionAmount",0,0,1],["Frequency","Base note of the sound.","startFrequency",.3,0,1],["Frequency Cutoff","If sliding, the sound will stop at this frequency, to prevent really low notes.  If unlocked, this is set to zero during randomization.","minFrequency",0,0,1],["Frequency Slide","Slides the frequency up or down.","slide",0,-1,1],["Delta Slide","Accelerates the frequency slide.  Can be used to get the frequency to change direction.","deltaSlide",0,-1,1],["Vibrato Depth","Strength of the vibrato effect.","vibratoDepth",0,0,1],["Vibrato Speed","Speed of the vibrato effect (i.e. frequency).","vibratoSpeed",0,0,1],["Harmonics","Overlays copies of the waveform with copies and multiples of its frequency.  Good for bulking out or otherwise enriching the texture of the sounds (warning: this is the number 1 cause of bfxr slowdown!).","overtones",0,0,1],["Harmonics Falloff","The rate at which higher overtones should decay.","overtoneFalloff",0,0,1],["Pitch Jump Repeat Speed","Larger Values means more pitch jumps, which can be useful for arpeggiation.","changeRepeat",0,0,1],["Pitch Jump Amount 1","Jump in pitch, either up or down.","changeAmount",0,-1,1],["Pitch Jump Onset 1","How quickly the note shift happens.","changeSpeed",0,0,1],["Pitch Jump Amount 2","Jump in pitch, either up or down.","changeAmount2",0,-1,1],["Pitch Jump Onset 2","How quickly the note shift happens.","changeSpeed2",0,0,1],["Square Duty","Square waveform only : Controls the ratio between the up and down states of the square wave, changing the tibre.","squareDuty",0,0,1],["Duty Sweep","Square waveform only : Sweeps the duty up or down.","dutySweep",0,-1,1],["Repeat Speed","Speed of the note repeating - certain variables are reset each time.","repeatSpeed",0,0,1],["Flanger Offset","Offsets a second copy of the wave by a small phase, changing the tibre.","flangerOffset",0,-1,1],["Flanger Sweep","Sweeps the phase up or down.","flangerSweep",0,-1,1],["Low-pass Filter Cutoff","Frequency at which the low-pass filter starts attenuating higher frequencies.  Named most likely to result in 'Huh why can't I hear anything?' at her high-school grad. ","lpFilterCutoff",1,0,1],["Low-pass Filter Cutoff Sweep","Sweeps the low-pass cutoff up or down.","lpFilterCutoffSweep",0,-1,1],["Low-pass Filter Resonance","Changes the attenuation rate for the low-pass filter, changing the timbre.","lpFilterResonance",0,0,1],["High-pass Filter Cutoff","Frequency at which the high-pass filter starts attenuating lower frequencies.","hpFilterCutoff",0,0,1],["High-pass Filter Cutoff Sweep","Sweeps the high-pass cutoff up or down.","hpFilterCutoffSweep",0,-1,1],["Bit Crush","Resamples the audio at a lower frequency.","bitCrush",0,0,1],["Bit Crush Sweep","Sweeps the Bit Crush filter up or down.","bitCrushSweep",0,-1,1]];presets=[["Pickup/Coin","Blips and baleeps.  Try messing with the wave-forms to get your own sound.","generate_pickup_coin","Pickup"],["Laser/Shoot","Pew pew.  Try playing about with the Frequency properties (slide + delta slide especially).  If you want to add some texture, try adding some light, high-frequency vibrato.","generate_laser_shoot","Shoot"],["Explosion","Boom.  To make this louder, try increasing compression, or fiddling with the frequency parameters.  To make this softer, try switching to pink noise or decreasing the frequency.  If you're hearing nothing after messing with parameters, try fiddling with 'frequency cutoff'.","generate_explosion","Boom"],["Powerup","Whoo.  Try messing with the slide + delta slide parameters to make these less unreservedly exhuberant.  Or how about increasing the decay and playing with the Pitch Jump/Onset parameters?","generate_powerup","PowerUp"],["Hit/Hurt","If you want something more crackly, try out a tan wave here.","generate_hit_hurt","Hit"],["Jump","Try turn your jump into a soggy kiss with some bitcrush.","generate_jump","Jump"],["Blip/Select","You might want to make a variation of this with longer decay for blips that accompany fadeouts or animations.","generate_blip_select","Blip"],["Randomize","Talking your life into your hands... (only modifies unlocked parameters)","randomize_params","Random"],["Mutate","Modify each unlocked parameter by a small wee amount... (only modifies unlocked parameters)","mutate_params","Mutant"]];constructor(){super(),this.post_initialize()}generate_sin(){this.reset_params(!0),this.set_param("waveType",1,!0)}generate_pickup_coin(){var e,t;this.reset_params(!0),this.set_param("startFrequency",.4+.5*Math.random(),!0),this.set_param("sustainTime",.1*Math.random(),!0),this.set_param("decayTime",.1+.4*Math.random(),!0),this.set_param("sustainPunch",.3+.3*Math.random(),!0),Math.random()<.5&&(this.set_param("changeSpeed",.5+.2*Math.random(),!0),e=Math.floor(7*Math.random())+1,t=Math.floor(7*Math.random())+e+2,this.set_param("changeAmount",e/t,!0))}generate_laser_shoot(){this.reset_params(!0),this.set_param("waveType",3*Math.random()|0,!0),2==this.get_param("waveType")&&Math.random()<.5&&this.set_param("waveType",2*Math.random()|0,!0),this.set_param("startFrequency",.5+.5*Math.random(),!0),this.set_param("minFrequency",this.get_param("startFrequency")-.2-.6*Math.random(),!0),this.get_param("minFrequency")<.2&&this.set_param("minFrequency",.2,!0),this.set_param("slide",-.15-.2*Math.random(),!0),Math.random()<.33&&(this.set_param("startFrequency",.6*Math.random(),!0),this.set_param("minFrequency",.1*Math.random(),!0),this.set_param("slide",-.35-.3*Math.random(),!0)),Math.random()<.5?(this.set_param("squareDuty",.5*Math.random(),!0),this.set_param("dutySweep",.2*Math.random(),!0)):(this.set_param("squareDuty",.4+.5*Math.random(),!0),this.set_param("dutySweep",.7*-Math.random(),!0)),this.set_param("sustainTime",.1+.2*Math.random(),!0),this.set_param("decayTime",.4*Math.random(),!0),Math.random()<.5&&this.set_param("sustainPunch",.3*Math.random(),!0),Math.random()<.33&&(this.set_param("flangerOffset",.2*Math.random(),!0),this.set_param("flangerSweep",.2*-Math.random(),!0)),Math.random()<.5&&this.set_param("hpFilterCutoff",.3*Math.random(),!0)}generate_explosion(){this.reset_params(!0),Math.random()<.5?this.set_param("waveType",3,!0):this.set_param("waveType",9,!0),Math.random()<.5?(this.set_param("startFrequency",.1+.4*Math.random(),!0),this.set_param("slide",.4*Math.random()-.1,!0)):(this.set_param("startFrequency",.2+.7*Math.random(),!0),this.set_param("slide",-.2-.2*Math.random(),!0)),this.set_param("startFrequency",this.get_param("startFrequency")*this.get_param("startFrequency"),!0),Math.random()<.2&&this.set_param("slide",0,!0),Math.random()<.33&&this.set_param("repeatSpeed",.3+.5*Math.random(),!0),this.set_param("sustainTime",.1+.3*Math.random(),!0),this.set_param("decayTime",.5*Math.random(),!0),this.set_param("sustainPunch",.2+.6*Math.random(),!0),Math.random()<.5&&(this.set_param("flangerOffset",.9*Math.random()-.3,!0),this.set_param("flangerSweep",.3*-Math.random(),!0)),Math.random()<.33&&(this.set_param("changeSpeed",.6+.3*Math.random(),!0),this.set_param("changeAmount",.8-1.6*Math.random(),!0))}generate_powerup(){this.reset_params(!0),Math.random()<.5?this.set_param("waveType",1,!0):this.set_param("squareDuty",.6*Math.random(),!0),Math.random()<.5?(this.set_param("startFrequency",.2+.3*Math.random(),!0),this.set_param("slide",.1+.4*Math.random(),!0),this.set_param("repeatSpeed",.4+.4*Math.random(),!0)):(this.set_param("startFrequency",.2+.3*Math.random(),!0),this.set_param("slide",.05+.2*Math.random(),!0),Math.random()<.5&&(this.set_param("vibratoDepth",.7*Math.random(),!0),this.set_param("vibratoSpeed",.6*Math.random(),!0))),this.set_param("sustainTime",.4*Math.random(),!0),this.set_param("decayTime",.1+.4*Math.random(),!0)}generate_hit_hurt(){this.reset_params(!0),this.set_param("waveType",4*Math.random()|0,!0),2==this.get_param("waveType")?this.set_param("waveType",3,!0):3==this.get_param("waveType")?this.set_param("waveType",9,!0):0==this.get_param("waveType")&&this.set_param("squareDuty",.6*Math.random()),this.set_param("startFrequency",.2+.6*Math.random(),!0),this.set_param("slide",-.3-.4*Math.random(),!0),this.set_param("sustainTime",.1*Math.random(),!0),this.set_param("decayTime",.1+.2*Math.random(),!0),Math.random()<.5&&this.set_param("hpFilterCutoff",.3*Math.random(),!0)}generate_jump(){this.reset_params(!0),this.set_param("waveType",0,!0),this.set_param("squareDuty",.6*Math.random(),!0),this.set_param("startFrequency",.3+.3*Math.random(),!0),this.set_param("slide",.1+.2*Math.random(),!0),this.set_param("sustainTime",.1+.3*Math.random(),!0),this.set_param("decayTime",.1+.2*Math.random(),!0),Math.random()<.5&&this.set_param("hpFilterCutoff",.3*Math.random(),!0),Math.random()<.5&&this.set_param("lpFilterCutoff",1-.6*Math.random(),!0)}generate_blip_select(){this.reset_params(!0),this.set_param("waveType",2*Math.random()|0,!0),0==this.get_param("waveType")&&this.set_param("squareDuty",.6*Math.random(),!0),this.set_param("startFrequency",.2+.4*Math.random(),!0),this.set_param("sustainTime",.1+.1*Math.random(),!0),this.set_param("decayTime",.2*Math.random(),!0),this.set_param("hpFilterCutoff",.1,!0)}static#RandomizationPower={attackTime:4,sustainTime:2,sustainPunch:2,overtones:3,overtoneFalloff:.25,vibratoDepth:3,dutySweep:3,flangerOffset:3,flangerSweep:3,lpFilterCutoff:.3,lpFilterSweep:3,hpFilterCutoff:5,hpFilterSweep:5,bitCrush:4,bitCrushSweep:5};static#WaveTypeWeights=[1,1,1,1,1,1,1,1,1,1,1,1];randomize_params(){for(var e in this.params){var t,i,s;this.locked_params[e]||(t=this.param_min(e),i=this.param_max(e),s=Math.random(),e in Bfxr.#RandomizationPower&&(s=Math.pow(s,Bfxr.#RandomizationPower[e])),this.params[e]=t+(i-t)*s)}if(!this.locked_params.waveType){for(var a=0,n=0;n<Bfxr.#WaveTypeWeights.length;n++)a+=Bfxr.#WaveTypeWeights[n];for(s=Math.random()*a,n=0;n<Bfxr.#WaveTypeWeights.length;n++)if((s-=Bfxr.#WaveTypeWeights[n])<=0){this.set_param("waveType",n);break}}this.locked_params.repeatSpeed||Math.random()<.5&&this.set_param("repeatSpeed",0),this.locked_params.slide||(s=2*Math.random()-1,s=Math.pow(s,5),this.set_param("slide",s)),this.locked_params.deltaSlide||(s=2*Math.random()-1,s=Math.pow(s,3),this.set_param("deltaSlide",s)),this.locked_params.minFrequency||this.set_param("minFrequency",0),this.locked_params.startFrequency||this.set_param("startFrequency",Math.random()<.5?Math.pow(2*Math.random()-1,2):Math.pow(.5*Math.random(),3)+.5),this.locked_params.sustainTime||this.locked_params.decayTime||this.get_param("attackTime")+this.get_param("sustainTime")+this.get_param("decayTime")<.2&&(this.set_param("sustainTime",.2+.3*Math.random()),this.set_param("decayTime",.2+.3*Math.random())),this.locked_params.slide||(.7<this.get_param("startFrequency")&&.2<this.get_param("slide")||this.get_param("startFrequency")<.2&&this.get_param("slide")<-.05)&&this.set_param("slide",-this.get_param("slide")),this.locked_params.lpFilterCutoffSweep||this.get_param("lpFilterCutoff")<.1&&this.get_param("lpFilterCutoffSweep")<-.05&&this.set_param("lpFilterCutoffSweep",-this.get_param("lpFilterCutoffSweep"))}generate_sound(){var e=new Bfxr_DSP(this.params,this);e.generate_sound(),this.sound=RealizedSound.from_buffer(e.buffer)}}class Footsteppr extends SynthTemplate{name="Footsteppr";version="1.0.0";tooltip="Bfxr is a wonderful physical simulation of footstep sounds, originally by Obiwannabe.";canvas_bg_logo="img/logo_footsteppr.png";header_properties=["waveform"];default_locked=["masterVolume"];hide_params=["masterVolume"];param_info=[["Sound Volume","Overall volume of the current sound.","masterVolume",.5,0,1],{type:"BUTTONSELECT",name:"terrain",display_name:"Terrain",tooltip:"",default_value:0,columns:5,header:!0,values:[["Snow","Traipsing around in the snow-blanketed forest."],["Grass","Dancing around the summer meadows."],["Dirt","The grass is all trampled away."],["Gravel","I hope you're not disrespecting anyone's grave!"],["Wood","Fancy wooden floor - don't scratch it with your caperings."]]},["Heel","How hard you strike the ground with your heel.","heel",.5,0,1],["Roll","After making initial contact with the ground, how much you roll your foot to the side.","roll",.5,0,1],["Ball","At the final part of your step, how much you dig the front of your foot into the ground.","ball",.5,0,1],["Swiftness","How quick the step is.","swiftness",.5,0,1]];presets=[["Randomize","Talking your life into your hands... (only modifies unlocked parameters)","randomize_params","Random"],["Mutate","Modify each unlocked parameter by a small wee amount... (only modifies unlocked parameters)","mutate_params","Mutant"]];constructor(){super(),this.post_initialize()}generate_pickup_coin(){return this.params}generate_sound(){var e=this.params.heel,t=this.params.roll,i=this.params.ball,s=this.params.swiftness,a=this.params.masterVolume,s=.1+.7*(1-s),e=(pd_set_stream_length_seconds(s),resize_fn(step(e),0,1,0,.3333)),t=resize_fn(step(t),0,1,.125,.875),i=resize_fn(step(i),0,1,.6667,1),e=pd_fn(resize_fn(add_fns(e,t,i),0,1,0,s));t=pd_clip(pd_mul(this.generate_terrain_texture(e),pd_c(a)),pd_c(-1),pd_c(1)),this.sound=RealizedSound.from_buffer(t)}generate_terrain_texture(e){var t=["snow","grass","dirt","gravel","wood"],t=(this.params.terrain>=t.length&&(step_terrain=0,console.log("step_terrain reset to 0")),t[this.params.terrain]);return console.log("generating terrain texture for "+t),puredata_functions[t](e)}}class Transfxr extends SynthTemplate{name="Transfxr";version="1.0.0";tooltip="An idea for making simple sounds.";canvas_bg_logo="img/logo_transfxr.png";header_properties=["waveform"];default_locked=["masterVolume"];hide_params=["masterVolume"];param_info=[["Sound Volume","Overall volume of the current sound.","masterVolume",.5,0,1],{type:"KNOB_TRANSITION",name:"roll",display_name:"Filter Sweep",default_value_l:0,default_value_r:1,min:0,max:1,default_tween:"Linear",header:!0},["Heel","How hard you strike the ground with your heel.","heel",.5,0,1],["Ball","At the final part of your step, how much you dig the front of your foot into the ground.","ball",.5,0,1],["Swiftness","How quick the step is.","swiftness",.5,0,1]];presets=[["Randomize","Talking your life into your hands... (only modifies unlocked parameters)","randomize_params","Random"],["Mutate","Modify each unlocked parameter by a small wee amount... (only modifies unlocked parameters)","mutate_params","Mutant"]];static tweenfunctions=[["Linear",e=>e],["Ease In",e=>e*e],["Triangle",e=>1-2*Math.abs(e-.5)],["Bounce",e=>e<.5?1-2*e*(2*e):(2*e-1)*(2*e-1)+1],["Cosine",e=>1-(Math.cos(e*Math.PI*2)+1)/2],["Accelerating Sine",e=>Math.sin(e*Math.PI*2)*e],["Decelerating Sine",e=>Math.sin(e*Math.PI*2)*(1-e)]];generateTweenImages(){var t=window.getComputedStyle(document.body);for(let e=0;e<Transfxr.tweenfunctions.length;e++){var[i,s]=Transfxr.tweenfunctions[e],a=t.getPropertyValue("--tween-canvas-width"),n=t.getPropertyValue("--tween-canvas-height"),o=document.createElement("canvas"),r=(o.width=a,o.height=n,o.getContext("2d")),l=(r.fillStyle="black",a);for(let e=0;e<=l;e++){var h=e/l,d=e,h=Math.round(o.height*(1-s(h))),h=Math.max(0,Math.min(o.height-1,h));r.fillRect(d,h,1,1)}var c=o.toDataURL("image/png"),p=document.createElement("img");p.src=c,p.width=a,p.height=n,p.style.border="1px solid #ccc",p.style.borderRadius="3px",p.style.margin="5px",p.title=i,Transfxr.tweenfunctions[e][2]=p}}constructor(){super(),this.post_initialize(),this.generateTweenImages()}generate_pickup_coin(){return this.params}}var tabs=[];class Tab{active=!1;create_new_sound=!0;play_on_change=!0;selected_file_index=-1;current_params={};files=[];sliders={};lock_buttons={};synth=null;constructor(e){var t=(this.synth=e).name,i=(this.name=t,SaveLoad.loaded_data[e.name]),i=(i&&(this.files=i.files,this.selected_file_index=i.selected_file_index,0<=this.selected_file_index&&this.synth.apply_params(JSON.parse(this.files[this.selected_file_index][1])),void 0!==i.create_new_sound&&(this.create_new_sound=i.create_new_sound),void 0!==i.play_on_change&&(this.play_on_change=i.play_on_change),void 0!==i.locked_params)&&(this.synth.locked_params=i.locked_params),document.getElementById("tab_bar")),s=document.getElementById("tab_page_manager"),a=0==i.children.length,n=document.createElement("div"),i=(n.innerText=t,n.id="tab_button_"+t,n.classList.add("tab_button"),i.appendChild(n),n.addEventListener("click",this.set_active_tab.bind(this)),document.createElement("div")),s=(i.classList.add("tab_page"),i.id="tab_page_"+t,s.appendChild(i),a&&(n.classList.add("active_tab"),i.classList.add("active_tab_page")),document.createElement("div")),a=(s.classList.add("left_panel"),i.appendChild(s),document.createElement("div")),n=(a.classList.add("preset_list"),s.appendChild(a),document.createElement("div")),o=(n.classList.add("create_new_sound_div"),s.appendChild(n),document.createElement("div")),n=(o.classList.add("padded_item"),n.appendChild(o),document.createElement("input")),n=(n.type="checkbox",n.id=t+"_checkbox_create_new_sound",n.classList.add("normie_checkbox"),o.appendChild(n),n.checked=this.create_new_sound,n.addEventListener("click",this.create_new_sound_clicked.bind(this)),document.createElement("label")),o=(n.innerText="Create new sound",n.setAttribute("for",t+"_checkbox_create_new_sound"),o.appendChild(n),document.createElement("div")),n=(o.classList.add("save_commands"),s.appendChild(o),this.add_button(this.name+"_apply_sfx","Apply Sfx",this.apply_sfx.bind(this),"Apply the current sound to the current sound")),n=(o.appendChild(n),this.add_button(this.name+"_revert_sfx","Revert Sfx",this.revert_sfx.bind(this),"Revert the current sound to the original sound")),n=(o.appendChild(n),this.add_button(this.name+"_duplicate_sfx","Duplicate Sfx",this.duplicate_sfx.bind(this),"Duplicate the current sound")),o=(o.appendChild(n),document.createElement("div")),n=(o.classList.add("scroll_container"),o.classList.add("filelist"),o.id=this.name+"_file_list",s.appendChild(o),document.createElement("div")),s=(n.classList.add("centre_panel"),i.appendChild(n),document.createElement("div")),o=(s.classList.add("centre_header"),s.style.display="none",n.appendChild(s),this.centre_header=s,document.createElement("table")),s=(o.classList.add("paramtable"),s.appendChild(o),document.createElement("div")),o=(s.classList.add("centre_params"),s.classList.add("scroll_container"),s.style.display="none",n.appendChild(s),this.centre_params=s,document.createElement("table")),n=(o.classList.add("paramtable"),s.appendChild(o),document.createElement("div")),s=(n.classList.add("right_panel"),i.appendChild(n),document.createElement("div")),o=(s.classList.add("display_canvas_container"),this.synth.canvas_bg_logo&&(s.style.backgroundImage=`url(${this.synth.canvas_bg_logo})`),n.appendChild(s),document.createElement("canvas")),i=(o.classList.add("display_canvas"),o.width="113",o.height="200",s.appendChild(o),o.id=this.name+"_waveform_canvas",document.createElement("div")),s=(n.appendChild(i),document.createElement("input")),o=(s.type="checkbox",s.id=t+"_checkbox_loop",s.classList.add("normie_checkbox"),s.checked=this.play_on_change,s.addEventListener("click",this.play_on_change_clicked.bind(this)),i.appendChild(s),document.createElement("label")),s=(o.innerText="Play on change",o.setAttribute("for",t+"_checkbox_loop"),i.appendChild(o),document.createElement("div")),t=(s.classList.add("right_panel_button_list"),n.appendChild(s),this.add_button("play","Play",this.play_button_clicked.bind(this),"Play the current sound")),i=(s.appendChild(t),document.createElement("div")),o=(s.appendChild(i),this.synth.param_min("masterVolume")),n=this.synth.param_max("masterVolume"),t=this.synth.param_default("masterVolume"),o=(this.setup_slider(i,"masterVolume",o,n,t,this.volume_slider_changed.bind(this),!0),document.createElement("span")),n=(o.innerText="Sound Volume",i.appendChild(o),this.add_button("export_wav","Export WAV",this.export_wav_button_clicked.bind(this),"Export the current sound as a WAV file")),t=(s.appendChild(n),this.add_button("export_all","Export All",this.export_all_button_clicked.bind(this),"Generate all sounds as WAV filesand download as a zipped WAV file")),i=(s.appendChild(t),this.add_button("save_bfxr","Save .bfxr",this.save_bfxr_button_clicked.bind(this),"Save the current sound as a .bfxr file")),o=(s.appendChild(i),this.add_button("save_bfxrcol","Save .bcol",this.save_bfxrcol_button_clicked.bind(this),"Save the current sound as a .bcol file")),n=(s.appendChild(o),this.add_button("load_data","Load Data",this.load_data_button_clicked.bind(this),"Load the current sound from a .bcol file")),t=(s.appendChild(n),this.add_button("copy","Copy",this.copy_button_clicked.bind(this),"Copy the current sound")),i=(s.appendChild(t),this.add_button("paste","Paste",this.paste_button_clicked.bind(this),"Paste the current sound")),o=(s.appendChild(i),this.add_button("copy_link","Copy Link",this.copy_link_button_clicked.bind(this),"Copy the current sound link")),n=(s.appendChild(o),this.add_button("clear_all","Clear All",this.clear_all_button_clicked.bind(this),"Reset everything! Clean slate!")),t=(s.appendChild(n),this.add_button("about","About",this.about_button_clicked.bind(this),"About the current sound"));s.appendChild(t),this.preset_list=a,tabs.push(this),this.load_params(e),this.load_presets(e),0==this.files.length?this.create_random_preset():this.update_ui()}update_ui(){this.update_ui_file_list(),this.update_ui_params(),this.update_ablements(),this.update_locks()}update_ablements(){if(-1!==this.selected_file_index){var e=this.files[this.selected_file_index][1]!=this.files[this.selected_file_index][2];document.getElementById(this.name+"_apply_sfx").disabled=!e,document.getElementById(this.name+"_revert_sfx").disabled=!e;for(var t=0;t<this.files.length;t++){var i=this.files[t],s=(i[0],i[1]),i=i[2],a=document.getElementById(this.name+"_file_list").children[t].children[0];s!=i?a.classList.add("modified_filename"):a.classList.remove("modified_filename")}}}update_ui_file_list(){for(var e=document.getElementById(this.name+"_file_list"),t=e.scrollTop,i=(e.innerHTML="",null),s=0;s<this.files.length;s++){var a=this.files[s],n=s==this.selected_file_index,a=this.create_file_entry(a,n);e.appendChild(a),n&&(i=a)}e.scrollTop=t,i&&setVisible(i,e)}update_ui_params(){for(var e=0;e<this.synth.param_info.length;e++){var t=this.synth.param_info[e];if(t.constructor===Array){var i=this.synth.params[t[2]],s=t[2];this.sliders[s].setValue(i)}else switch(t.type){case"BUTTONSELECT":for(var i=this.synth.params[t.name],a=document.getElementById(this.name+"_button_grid_"+t.name),n=0;n<a.children.length;n++){var o=a.children[n];o.disabled=!1,o.classList.contains("selected")&&o.classList.remove("selected")}a.children[i].classList.add("selected"),a.children[i].disabled=!0;break;case"KNOB_TRANSITION":console.error("Knob transition not implemented");break;default:console.error("Unknown param type: "+t.type)}}}update_locks(){for(var e=Object.keys(this.lock_buttons),t=0;t<e.length;t++){var i=e[t],s=this.lock_buttons[i];this.synth.locked_params[i]?s.classList.add("locked"):s.classList.remove("locked")}}set_active_tab(){for(var e=document.getElementById("tab_page_"+this.name),t=(e.classList.add("active_tab"),document.getElementsByClassName("tab_button")),i=0;i<t.length;i++){var s=t[i];s.id!="tab_button_"+this.name?s.classList.remove("active_tab"):s.classList.contains("active_tab")||s.classList.add("active_tab")}for(var a=document.getElementsByClassName("tab_page"),i=0;i<a.length;i++)(e=a[i]).id!="tab_page_"+this.name?e.classList.remove("active_tab_page"):e.classList.contains("active_tab_page")||e.classList.add("active_tab_page");for(i=0;i<tabs.length;i++){var n=tabs[i];n.active=n.name==this.name}}load_params(e){for(var t=0;t<e.param_info.length;t++){var i,s=e.param_info[t],a=e.get_param_uniformized(s);a.name in e.locked_params||(i=!e.default_locked.includes(a.name),this.synth.locked_params[a.name]=i),e.hide_params.includes(a.name)||this.load_param(s)}this.update_ui()}load_param(e){if(e.constructor===Array){var t=e[0],i=e[2],s=6<e.length&&!0===e[6];this.add_slider(i,t,e[1],e[4],e[5],e[3],s)}else switch(e.type){case"BUTTONSELECT":this.add_button_grid(e.name,e.display_name,e.tooltip,e.columns,e.default_value,e.values,!0===e.header),i=e.name;break;case"KNOB_TRANSITION":this.add_knob_transition(e.name,e.display_name,e.tooltip,e.default_value_l,e.default_value_r,e.min,e.max,e.default_tween,!0===e.header),i=e.name;break;default:console.error("Unknown param type: "+e.type)}}setup_slider(e,t,i,s,a,n,o=!1){for(var r=this.name+"_slider_"+t,l=document.createElement("input"),h=(l.type="text",l.id=r,e.appendChild(l),[]),d=0,c=1e5,p=0;p<=10;p++){var u=i+(s-i)*p/10,u=(h.push(u),Math.abs(u-a));u<c&&(c=u,d=p)}e=new Slider("#"+r,{id:t,min:i,max:s,range:!1,step:1e-5,value:a,ticks:h,formatter:e=>e.toFixed(2)});e.sliderElem.className+=" singleselect",e.sliderElem.getElementsByClassName("slider-tick-container")[0].children[d].classList.add("defaulttick"),!0===o&&e.sliderElem.classList.add("slidernarrow"),e.on("slideStop",n),this.sliders[t]=e}add_button(e,t,i,s){var a=document.createElement("button");return a.classList.add("normie_button"),a.id=e,null!=s&&""!=s&&(a.title=s),a.innerHTML=t,a.addEventListener("click",i),a}create_param_label(e,t){var i=document.createElement("span");return i.classList.add("parameter_name"),null!=t&&""!=t&&(i.title=t),i.innerText=e,i}add_knob_transition(e,t,i,s,a,n,o,r,l=!1){l=l?this.centre_header:this.centre_params;l.style.display="block";var l=l.children[0].insertRow(),h=l.insertCell(),d=(h.classList.add("lockcolumn"),this.generate_lock_button(e)),t=(h.appendChild(d),""!==t&&((h=l.insertCell()).classList.add("labelcolumn"),d=this.create_param_label(t,i),h.appendChild(d)),l.insertCell()),i=(t.classList.add("transition_container"),this.new_knob(e+"_l",s,n,o,.01)),c=(t.appendChild(i),this.name+"_dropdown_content_"+e),h=Transfxr.tweenfunctions[0][2],d=document.createElement("img"),p=(d.src=h.src,d.classList.add("tween_select_canvas"),d.classList.add("dropdown"),d.id=e+"_tween_select_canvas",t.appendChild(d),d.addEventListener("click",()=>{document.getElementById(c).classList.toggle("show")}),document.createElement("div"));p.classList.add("dropdown-content"),p.id=c,t.appendChild(p);for(var u=0;u<Transfxr.tweenfunctions.length;u++){var m=Transfxr.tweenfunctions[u][2],_=document.createElement("img");_.src=m.src,_.classList.add("tween_select_canvas"),p.appendChild(_)}l=this.new_knob(e+"_r",a,n,o,.01);t.appendChild(l)}new_knob(e,t,i,s,a){var n=document.createElement("input"),e=this.name+"_knob_"+e;return n.id=e,n.type="range",n.classList.add("input-knob"),n.dataset.width="32",n.dataset.height="32",n.dataset.bgcolor="#b7a480",n.dataset.fgcolor="#3c3831",n.value=t,n.min=i,n.max=s,n.step=a,n.addEventListener("input",()=>{this.knob_transition_changed(parameter_name,knob_l.value,knob_r.value)}),n}add_button_grid(t,e,i,s,a,n,o=!1){o=o?this.centre_header:this.centre_params;o.style.display="block";var o=o.children[0].insertRow(),r=o.insertCell(),l=(r.classList.add("lockcolumn"),this.generate_lock_button(t)),r=(r.appendChild(l),1),i=(""!==e?((l=o.insertCell()).classList.add("labelcolumn"),e=this.create_param_label(e,i),l.appendChild(e)):r=2,o.insertCell()),h=(i.rowSpan=r,document.createElement("div")),d=(h.classList.add("button_grid_"+s+"c"),this.name+"_button_grid_"+t);h.id=d,i.appendChild(h);for(let e=0;e<n.length;e++){var c=document.createElement("button"),p=(c.classList.add("button_grid_button"),c.id=d+"_"+n[e][0],c.innerText=n[e][0],n[e][1]);c.title=p,n[e][2];c.addEventListener("click",this.button_grid_button_clicked.bind(this,c,t,e)),h.appendChild(c)}}add_slider(e,t,i,s,a,n,o=!1){this.name;o=o?this.centre_header:this.centre_params;o.style.display="block";var o=o.children[0].insertRow(),r=o.insertCell(),l=(r.classList.add("lockcolumn"),this.generate_lock_button(e)),r=(r.appendChild(l),1),i=(""!==t?((l=o.insertCell()).classList.add("labelcolumn"),t=this.create_param_label(t,i),l.appendChild(t)):r=2,o.insertCell());i.classList.add("slider_container"),i.rowSpan=r,this.setup_slider(i,e,s,a,n,this.slider_changed.bind(this,e))}generate_lock_button(t){var i=document.createElement("div");return i.classList.add("lockimage"),this.synth.locked_params[t]||i.classList.add("unlocked"),i.addEventListener("click",()=>{var e=!!i.classList.contains("unlocked");this.lock_param_clicked(i,t,e)}),this.lock_buttons[t]=i}find_unique_filename(e,t=-1){for(var i=e.replace(/[^a-zA-Z0-9_-]/g,""),s=(0==i.length&&(i="Sfx"),!1),a=0;a<this.files.length;a++)if(a!==t&&this.files[a][0]==i){s=!0;break}if(s){for(;0<i.length&&!isNaN(i[i.length-1]);)i=i.slice(0,-1);0==i.length&&(i="Sfx");for(var n,o=-1,r=!0;r;){r=!1,n=i,0!==++o&&(n=i+o);for(a=0;a<this.files.length;a++)if(a!=t&&this.files[a][0].toLowerCase()==n.toLowerCase()){r=!0;break}}i=n}return i}delete_file(e){for(var t=-1,i=0;i<this.files.length;i++)if(this.files[i][0]==e){t=i,this.files.splice(i,1);break}this.selected_file_index>=t&&(this.selected_file_index--,this.selected_file_index<0)&&0<this.files.length&&(this.selected_file_index=0,this.set_selected_file(this.files[0][0])),this.update_ui(),SaveLoad.save_all_collections()}set_selected_file(e){for(var t=0;t<this.files.length;t++)if(this.files[t][0]==e){this.selected_file_index=t;break}for(var i=document.getElementById(this.name+"_file_list"),t=0;t<i.children.length;t++)(s=i.children[t]).classList.remove("file_selected"),s.children[0].contentEditable=!1;(s=i.children[this.selected_file_index]).classList.add("file_selected");var s,a=s.children[0],a=(a.contentEditable=!0,a.focus(),JSON.parse(this.files[this.selected_file_index][1]));this.synth.apply_params(a),this.update_ui_params(),this.update_ablements()}create_file_entry(e,t){var i=e[1]!==e[2],s=e[0],e=s,a=document.createElement("div"),n=(a.classList.add("file_item"),t&&a.classList.add("file_selected"),document.createElement("span")),e=(n.classList.add("file_item_name"),n.innerText=e,i&&n.classList.add("modified_filename"),t&&(n.contentEditable=!0),n.addEventListener("blur",e=>{n.innerText!==s&&(s=this.file_item_renamed(s,n.innerText),n.innerText=s)}),a.appendChild(n),n.addEventListener("click",e=>{this.file_item_click(s,e.target)}),document.createElement("button"));return e.classList.add("delete_button"),e.innerHTML="<img src='./img/delete.png' alt='Delete'>",e.addEventListener("click",e=>{this.delete_file(s)}),a.appendChild(e),a}load_presets(e){for(var t=0;t<e.presets.length;t++){var i=e.presets[t];this.add_generator(i)}}create_random_preset(){var[e,t]=this.synth.create_random_preset();this.create_new_sound_from_params(e,t)}create_new_sound_from_params(e,t,i=!1){this.synth.apply_params(t),this.create_new_sound||0==this.files.length||-1===this.selected_file_index||i?(this.current_params=t,i=this.find_unique_filename(e),this.files.push([i,JSON.stringify(t),JSON.stringify(t)]),this.selected_file_index=this.files.length-1,SaveLoad.save_all_collections()):(this.current_params=t,this.files[this.selected_file_index][1]=JSON.stringify(t)),this.play_on_change&&this.play_sound(),this.update_ui()}add_generator(e){var t=e[0],i=e[1],e=e[2],s=this.name+"_generator_"+e,s=this.add_button(s,t,this.preset_clicked.bind(this,e),i);this.preset_list.appendChild(s)}add_preset(e,t,i){var s=this.name+"_preset_"+e,s=this.add_button(s,e,i,t);this.preset_list.appendChild(s)}serialize_params(){var e=this.files[this.selected_file_index],t=e[0],e=JSON.parse(e[1]),i={};return i.synth_type=this.name,i.version=this.synth.version,i.file_name=t,i.params=e,JSON.stringify(i,null,2)}preset_clicked(e){console.log("Preset clicked: "+e);for(var t=null,i=0;i<this.synth.presets.length;i++)if(this.synth.presets[i][2]==e){t=this.synth.presets[i];break}var s=t[3];this.synth[t[2]].bind(this.synth)(),this.create_new_sound_from_params(s,this.synth.params)}create_new_sound_clicked(e){this.create_new_sound=e.target.checked,console.log("Create new sound: "+this.create_new_sound)}play_on_change_clicked(e){console.log("Play on change clicked"),this.play_on_change=e.target.checked}play_button_clicked(){console.log("Play button clicked"),this.play_sound()}slider_changed(e,t){console.log("Slider changed "+e+" to "+t),this.synth.set_param(e,t),this.files[this.selected_file_index][1]=JSON.stringify(this.synth.params),this.update_ablements(),this.play_on_change&&this.play_sound()}volume_slider_changed(e){this.slider_changed("masterVolume",e)}export_wav_button_clicked(){var e=this.synth.generate_sound_uri(),t=document.createElement("a");t.href=e,t.download="data.wav",t.click(),t.remove()}export_all_button_clicked(){console.log("Export all button clicked")}save_bfxr_button_clicked(){console.log("Save bfxr button clicked");var e=this.serialize_params(),t=this.files[this.selected_file_index][0]+".bfxr",i=document.createElement("a");i.href="data:text/plain;charset=utf-8,"+encodeURIComponent(e),i.download=t,i.click()}save_bfxrcol_button_clicked(){console.log("Save bfxrcol button clicked");var e=StateSerialization.serialize_collection(),t=document.createElement("a");t.href="data:text/plain;charset=utf-8,"+encodeURIComponent(e),t.download="collection.bcol",t.click()}load_data_button_clicked(){console.log("Load data button clicked");var e=document.createElement("input");e.type="file",e.accept=".bfxr,.bcol",e.multiple=!1,e.addEventListener("change",e=>{console.log("File selected: "+e.target.files[0].name);var t=e.target.files[0],e=new FileReader;e.onload=e=>{t.name.endsWith(".bfxr")?StateSerialization.load_serialized_synth(e.target.result):t.name.endsWith(".bcol")&&StateSerialization.load_serialized_collection(e.target.result)},e.readAsText(t)}),e.click()}copy_button_clicked(){console.log("Copy button clicked");var e=this.serialize_params();navigator.clipboard.writeText(e)}paste_button_clicked(){navigator.clipboard.readText().then(e=>{deserialize(e)})}copy_link_button_clicked(){console.log("Copy link button clicked"),console.log("Copy button clicked");var e=this.files[this.selected_file_index],t=e[0],e=JSON.parse(e[1]),t=StateSerialization.shallow_dict_serialize(this.name,t,e),e=encodeURIComponent(t),t=window.location.href.split("?")[0];navigator.clipboard.writeText(t+"?sfx="+e)}clear_all_button_clicked(){confirm("Are you sure you want to clear all data in this synth (THIS DELETES ALL FILES)?")&&(console.log("Clear all button clicked"),this.files=[],this.selected_file_index=-1,this.update_ui(),SaveLoad.save_all_collections())}about_button_clicked(){console.log("About button clicked")}apply_sfx(){this.files[this.selected_file_index][2]!==this.files[this.selected_file_index][1]&&(console.log("Apply sfx"),this.files[this.selected_file_index][2]=this.files[this.selected_file_index][1],document.getElementById(this.name+"_file_list").children[this.selected_file_index].children[0].classList.remove("modified_filename"),this.update_ablements(),SaveLoad.save_all_collections())}revert_sfx(){var e,t;this.files[this.selected_file_index][2]!==this.files[this.selected_file_index][1]&&(console.log("Revert sfx"),e=this.files[this.selected_file_index][2],t=JSON.parse(e),this.synth.apply_params(t),this.files[this.selected_file_index][1]=e,document.getElementById(this.name+"_file_list").children[this.selected_file_index].children[0].classList.add("modified_filename"),this.update_ui_params(),this.update_ablements(),SaveLoad.save_all_collections())}duplicate_sfx(){var e,t;console.log("Duplicate sfx"),t=(e=-1===this.selected_file_index?(t="Sfx",JSON.stringify(this.synth.params)):(t=(e=this.files[this.selected_file_index])[0],e[1]),[this.find_unique_filename(t),e,e]),this.files.splice(this.selected_file_index+1,0,t),this.selected_file_index++,this.update_ui(),SaveLoad.save_all_collections()}lock_param_clicked(e,t,i){console.log("Lock param "+t+" clickedwith value "+i),(i=!i)?e.classList.add("unlocked"):e.classList.remove("unlocked"),this.synth.locked_params[t]=!i}button_grid_button_clicked(e,t,i){console.log("Button grid button clicked for "+t+" with value "+i);this.name;for(var s=0;s<e.parentElement.children.length;s++){var a=e.parentElement.children[s];i===s?(a.classList.add("selected"),a.disabled=!0):(a.classList.remove("selected"),a.disabled=!1)}this.synth.set_param(t,i),this.files[this.selected_file_index][1]=JSON.stringify(this.synth.params),this.update_ablements(),this.play_on_change&&this.play_sound()}file_item_click(e,t){console.log("File item clicked: "+e),this.set_selected_file(e),this.play_on_change&&this.play_sound()}file_item_renamed(e,t){for(var i=-1,s=0;s<this.files.length;s++)if(this.files[s][0]==e){i=s;break}return t=this.find_unique_filename(t,i),this.files[i][0]=t,console.log("File item renamed: "+e+" to "+t),SaveLoad.save_all_collections(),t}play_sound(){this.synth.play(),this.redraw_waveform()}redraw_waveform(){var e=document.getElementById(this.name+"_waveform_canvas"),t=e.getContext("2d");t.clearRect(0,0,e.width,e.height),this.synth.drawWaveform(t)}}class StateSerialization{static check_url_for_sfxr_params(){window.location.href;var t,e,i,s=window.location.search,s=new URLSearchParams(s);s.has("sfx")&&(e=s.get("sfx"),[t,e,s]=StateSerialization.shallow_dict_deserialize(e),(i=tabs.find(e=>e.synth.name==t))?(i.set_active_tab(),i.create_new_sound_from_params(e,s,!0),i=window.location.href.split("?")[0],window.history.replaceState({},"",i)):console.error("No tab found for synth_name: "+t))}static shallow_dict_serialize(e,t,i){var s=e+"_"+t+"_",a=Object.keys(i);a.sort();for(var n=0;n<a.length;n++)s+=i[a[n]]+"_";return s=s.slice(0,-1)}static shallow_dict_deserialize(e){var t=e.split("_"),i=t[0],e=t[1],s=tabs.find(e=>e.synth.name==i);if(s){for(var s=s.synth.default_params(),a=Object.keys(s),n={},o=0;o<a.length;o++)n[a[o]]=parseFloat(t[o+2]);return[i,e,n]}console.error("No tab found for synth_name: "+i)}static load_serialized_synth(e){var e=JSON.parse(e),t=e.synth_type,i=e.file_name,e=e.params,s=tabs.find(e=>e.synth.name==t);s?(s.set_active_tab(),s.create_new_sound_from_params(i,e,!0)):console.error("No tab found for synth_name: "+t)}static load_serialized_collection(e){for(var t=JSON.parse(e),e=t.active_tab_index,i=0;i<tabs.length;i++){var s=tabs[i],a=t[s.synth.name].files,n=t[s.synth.name].selected_file_index,o=t[s.synth.name].create_new_sound,r=t[s.synth.name].play_on_change,l=t[s.synth.name].locked_params;s.files=a,s.selected_file_index=n,s.create_new_sound=o,s.play_on_change=r,s.synth.locked_params=l,s.update_ui()}tabs[e].set_active_tab()}static serialize_collection(){for(var e={},t=-1,i=0;i<tabs.length;i++){var s=tabs[i],a={files:s.files,selected_file_index:s.selected_file_index,create_new_sound:s.create_new_sound,play_on_change:s.play_on_change,locked_params:s.synth.locked_params};e[s.synth.name]=a,s.active&&(t=i)}return e.active_tab_index=t,JSON.stringify(e)}}function register_tabs(){SaveLoad.load_all_collections(),SaveLoad.collection_save_enabled=!1;new Tab(new Bfxr),new Tab(new Footsteppr);SaveLoad.collection_save_enabled=!0,set_tab_from_loaded_data(),SaveLoad.save_all_collections()}function set_tab_from_loaded_data(){var e;SaveLoad.loaded_data&&0<=(e=SaveLoad.loaded_data.active_tab_index)&&tabs[e].set_active_tab()}function bfxr_draw_visualisation(e){}function bfxr_generate_sound(e){}function bfxr_preset_pickupcoin(){console.log("Pickup/Coin")}function bfxr_preset_lasershoot(){console.log("Laser/Shoot")}function bfxr_preset_explosion(){console.log("Explosion")}function bfxr_preset_powerup(){console.log("Powerup")}function bfxr_preset_hithurt(){console.log("Hit/Hurt")}function bfxr_preset_jump(){console.log("Jump")}function bfxr_preset_blipselect(){console.log("Blip/Select")}window.onload=function(){register_tabs(),StateSerialization.check_url_for_sfxr_params()};</script>
        
        <style>.invalid-tooltip,.valid-tooltip{top:100%;z-index:5;display:none;max-width:100%;padding:.25rem .5rem;margin-top:.1rem;font-size:.875rem;position:absolute}.invalid-tooltip,.tooltip-inner,.valid-tooltip{color:#fff;border-radius:.25rem}.slider-selection,.slider-track-high,.slider-track-low{-webkit-box-sizing:border-box;-moz-box-sizing:border-box}.data-tooltip,.slider .tooltip{pointer-events:none}.slider-handle:hover,.slider-tick,.slider-track,.tab_button{cursor:pointer}.display_canvas_container,img{image-rendering:pixelated}.lockcolumn,.parameter_name,body{user-select:none}.input-group>:not(:first-child):not(.dropdown-menu):not(.valid-tooltip):not(.valid-feedback):not(.invalid-tooltip):not(.invalid-feedback){margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0}.valid-tooltip{background-color:rgba(25,135,84,.9)}.is-valid~.valid-feedback,.is-valid~.valid-tooltip,.was-validated :valid~.valid-feedback,.was-validated :valid~.valid-tooltip{display:block}.invalid-tooltip{background-color:rgba(220,53,69,.9)}.is-invalid~.invalid-feedback,.is-invalid~.invalid-tooltip,.was-validated :invalid~.invalid-feedback,.was-validated :invalid~.invalid-tooltip{display:block}.tooltip{z-index:1070;display:block;margin:0;font-family:var(--bs-font-sans-serif);font-style:normal;font-weight:400;line-height:1.5;text-align:left;text-align:start;text-decoration:none;text-shadow:none;text-transform:none;letter-spacing:normal;word-break:normal;word-spacing:normal;white-space:normal;line-break:auto;font-size:.875rem;word-wrap:break-word;opacity:0}.tooltip.show{opacity:.9}.tooltip .tooltip-arrow{position:absolute;display:block;width:.8rem;height:.4rem}.tooltip .tooltip-arrow::before{position:absolute;content:"";border-color:transparent;border-style:solid}.bs-tooltip-auto[data-popper-placement^=bottom],.bs-tooltip-auto[data-popper-placement^=top],.bs-tooltip-bottom,.bs-tooltip-top{padding:.4rem 0}.bs-tooltip-auto[data-popper-placement^=top] .tooltip-arrow,.bs-tooltip-top .tooltip-arrow{bottom:0}.bs-tooltip-auto[data-popper-placement^=top] .tooltip-arrow::before,.bs-tooltip-top .tooltip-arrow::before{top:-1px;border-width:.4rem .4rem 0;border-top-color:#000}.bs-tooltip-auto[data-popper-placement^=left],.bs-tooltip-auto[data-popper-placement^=right],.bs-tooltip-end,.bs-tooltip-start{padding:0 .4rem}.bs-tooltip-auto[data-popper-placement^=right] .tooltip-arrow,.bs-tooltip-end .tooltip-arrow{left:0;width:.4rem;height:.8rem}.bs-tooltip-auto[data-popper-placement^=right] .tooltip-arrow::before,.bs-tooltip-end .tooltip-arrow::before{right:-1px;border-width:.4rem .4rem .4rem 0;border-right-color:#000}.bs-tooltip-auto[data-popper-placement^=bottom] .tooltip-arrow,.bs-tooltip-bottom .tooltip-arrow{top:0}.bs-tooltip-auto[data-popper-placement^=bottom] .tooltip-arrow::before,.bs-tooltip-bottom .tooltip-arrow::before{bottom:-1px;border-width:0 .4rem .4rem;border-bottom-color:#000}.bs-tooltip-auto[data-popper-placement^=left] .tooltip-arrow,.bs-tooltip-start .tooltip-arrow{right:0;width:.4rem;height:.8rem}.bs-tooltip-auto[data-popper-placement^=left] .tooltip-arrow::before,.bs-tooltip-start .tooltip-arrow::before{left:-1px;border-width:.4rem 0 .4rem .4rem;border-left-color:#000}.tooltip-inner{max-width:200px;padding:.25rem .5rem;text-align:center;background-color:#000}.data-tooltip,.tooltip-inner{color:var(--tooltip-text-color)}.slider-selection,.slider-track,.slider-track-high,.slider-track-low{-webkit-border-radius:4px;-moz-border-radius:4px}/*! =======================================================
                      VERSION  11.0.2              
========================================================= *//*! =========================================================
 * bootstrap-slider.js
 *
 * Maintainers:
 *		Kyle Kemp
 *			- Twitter: @seiyria
 *			- Github:  seiyria
 *		Rohit Kalkur
 *			- Twitter: @Rovolutionary
 *			- Github:  rovolution
 *
 * =========================================================
 *
 * bootstrap-slider is released under the MIT License
 * Copyright (c) 2019 Kyle Kemp, Rohit Kalkur, and contributors
 * 
 * Permission is hereby granted, free of charge, to any person
 * obtaining a copy of this software and associated documentation
 * files (the "Software"), to deal in the Software without
 * restriction, including without limitation the rights to use,
 * copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the
 * Software is furnished to do so, subject to the following
 * conditions:
 * 
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 * OTHER DEALINGS IN THE SOFTWARE.
 *
 * ========================================================= */.slider{display:inline-block;vertical-align:middle;position:relative}.slider.slider-horizontal{width:210px;height:20px}.slider.slider-horizontal .slider-track{height:10px;margin-top:-5px}.slider.slider-horizontal .slider-selection,.slider.slider-horizontal .slider-track-high,.slider.slider-horizontal .slider-track-low{height:100%;top:0;bottom:0}.slider.slider-horizontal .slider-handle,.slider.slider-horizontal .slider-tick{margin-left:-10px}.slider.slider-horizontal .slider-handle.triangle,.slider.slider-horizontal .slider-tick.triangle{position:relative;top:50%;transform:translateY(-50%);border-width:0 10px 10px;width:0;height:0;border-bottom-color:#036fa5;margin-top:0}.slider.slider-horizontal .slider-tick-container{white-space:nowrap;position:absolute;top:0;left:0;width:100%}.slider.slider-horizontal .slider-tick-label-container{white-space:nowrap;margin-top:20px}.slider.slider-horizontal .slider-tick-label-container .slider-tick-label{display:inline-block;text-align:center}.slider.slider-horizontal.slider-rtl .slider-tick-container,.slider.slider-horizontal.slider-rtl .slider-track,.slider.slider-vertical.slider-rtl .slider-selection{left:initial;right:0}.slider.slider-horizontal.slider-rtl .slider-handle,.slider.slider-horizontal.slider-rtl .slider-tick{margin-left:initial;margin-right:-10px}.slider.slider-vertical{height:210px;width:20px}.slider.slider-vertical .slider-track{width:10px;height:100%;left:25%;top:0}.slider.slider-vertical .slider-selection{width:100%;left:0;top:0;bottom:0}.slider.slider-vertical .slider-track-high,.slider.slider-vertical .slider-track-low{width:100%;left:0;right:0}.slider.slider-vertical .slider-handle,.slider.slider-vertical .slider-tick{margin-top:-10px}.slider.slider-vertical .slider-handle.triangle,.slider.slider-vertical .slider-tick.triangle{border-width:10px 0 10px 10px;width:1px;height:1px;border-left-color:#036fa5;margin-left:0}.slider.slider-vertical .slider-tick-label-container{white-space:nowrap}.slider.slider-vertical .slider-tick-label-container .slider-tick-label{padding-left:4px}.slider.slider-vertical.slider-rtl .slider-track{left:initial;right:25%}.slider.slider-vertical.slider-rtl .slider-handle.triangle,.slider.slider-vertical.slider-rtl .slider-tick.triangle{border-width:10px 10px 10px 0}.slider.slider-horizontal .max-slider-handle,.slider.slider-horizontal .min-slider-handle{border-top:var(--border-thickness) solid var(--col-black);border-bottom:var(--border-thickness) solid var(--col-black)}.slider.slider-vertical.slider-rtl .slider-tick-label-container .slider-tick-label{padding-left:initial;padding-right:4px}.slider.slider-disabled .slider-handle{background-color:#cfcfcf;background-image:-moz-linear-gradient(top,#dfdfdf,#bebebe);background-image:-webkit-gradient(linear,0 0,0 100%,from(#dfdfdf),to(#bebebe));background-image:-webkit-linear-gradient(top,#dfdfdf,#bebebe);background-image:-o-linear-gradient(top,#dfdfdf,#bebebe);background-image:linear-gradient(to bottom,#dfdfdf,#bebebe);background-repeat:repeat-x}.slider.slider-disabled .slider-track{background-color:#e7e7e7;background-image:-moz-linear-gradient(top,#e5e5e5,#e9e9e9);background-image:-webkit-gradient(linear,0 0,0 100%,from(#e5e5e5),to(#e9e9e9));background-image:-webkit-linear-gradient(top,#e5e5e5,#e9e9e9);background-image:-o-linear-gradient(top,#e5e5e5,#e9e9e9);background-image:linear-gradient(to bottom,#e5e5e5,#e9e9e9);background-repeat:repeat-x;cursor:not-allowed}.slider .hide,.slider input,.timevarying_expanded>.slidercell>div{display:none}.slider .tooltip-inner{white-space:nowrap;max-width:none}.slider .bs-tooltip-bottom .tooltip-inner,.slider .bs-tooltip-top .tooltip-inner{position:relative;left:-50%}.slider.bs-tooltip-left .tooltip-inner,.slider.bs-tooltip-right .tooltip-inner{position:relative;top:-100%}.slider .tooltip.bs-tooltip-bottom .arrow,.slider .tooltip.bs-tooltip-top .arrow{left:-.4rem}.slider .tooltip.bs-tooltip-bottom{margin-top:2px}.slider .tooltip.bs-tooltip-left,.slider .tooltip.bs-tooltip-right{margin-top:-14px}.slider .tooltip.bs-tooltip-left .arrow,.slider .tooltip.bs-tooltip-right .arrow{top:8px}.slider-track{background-repeat:repeat-x;-webkit-box-shadow:inset 0 1px 2px rgba(0,0,0,.1);-moz-box-shadow:inset 0 1px 2px rgba(0,0,0,.1);box-shadow:inset 0 1px 2px rgba(0,0,0,.1);position:absolute}.slider-selection{-webkit-box-shadow:inset 0 -1px 0 rgba(0,0,0,.15);-moz-box-shadow:inset 0 -1px 0 rgba(0,0,0,.15);box-shadow:inset 0 -1px 0 rgba(0,0,0,.15);box-sizing:border-box;position:absolute}.slider-selection.tick-slider-selection{background-color:#46c1fe;background-image:-moz-linear-gradient(top,#52c5ff,#3abcfd);background-image:-webkit-gradient(linear,0 0,0 100%,from(#52c5ff),to(#3abcfd));background-image:-webkit-linear-gradient(top,#52c5ff,#3abcfd);background-image:-o-linear-gradient(top,#52c5ff,#3abcfd);background-image:linear-gradient(to bottom,#52c5ff,#3abcfd);background-repeat:repeat-x}.slider-track-high,.slider-track-low{box-sizing:border-box;position:absolute;background:0 0}.slider-handle{background-image:-moz-linear-gradient(top,#0480be,#036fa5);background-image:-webkit-gradient(linear,0 0,0 100%,from(#0480be),to(#036fa5));background-image:-webkit-linear-gradient(top,#0480be,#036fa5);background-image:-o-linear-gradient(top,#0480be,#036fa5);background-image:linear-gradient(to bottom,#0480be,#036fa5);background-repeat:repeat-x;-webkit-box-shadow:inset 0 1px 0 rgba(255,255,255,.2),0 1px 2px rgba(0,0,0,.05);-moz-box-shadow:inset 0 1px 0 rgba(255,255,255,.2),0 1px 2px rgba(0,0,0,.05);box-shadow:inset 0 1px 0 rgba(255,255,255,.2),0 1px 2px rgba(0,0,0,.05);position:absolute;top:0;width:20px;height:20px;background-color:#0480be;border:0 solid transparent}.slider-handle.round{-webkit-border-radius:20px;-moz-border-radius:20px;border-radius:20px}.slider-handle.custom,.slider-handle.triangle,.slider-tick.custom,.slider-tick.triangle{background:0 0}.slider-handle.custom::before,.slider-tick.custom::before{line-height:20px;font-size:20px;content:'\2605';color:#726204}.slider-tick{background-color:#f7f7f7;background-image:-moz-linear-gradient(top,#f5f5f5,#f9f9f9);background-image:-webkit-gradient(linear,0 0,0 100%,from(#f5f5f5),to(#f9f9f9));background-image:-webkit-linear-gradient(top,#f5f5f5,#f9f9f9);background-image:-o-linear-gradient(top,#f5f5f5,#f9f9f9);background-image:linear-gradient(to bottom,#f5f5f5,#f9f9f9);background-repeat:repeat-x;-webkit-box-shadow:inset 0 -1px 0 rgba(0,0,0,.15);-moz-box-shadow:inset 0 -1px 0 rgba(0,0,0,.15);box-shadow:inset 0 -1px 0 rgba(0,0,0,.15);-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;width:20px;height:20px;filter:none;opacity:.8;border:0 solid transparent}.slider-handle,.slider.slider-horizontal{height:var(--sliderheight)}.slider-tick.round{border-radius:50%}.slider-tick.in-selection{background-color:#46c1fe;background-image:-moz-linear-gradient(top,#52c5ff,#3abcfd);background-image:-webkit-gradient(linear,0 0,0 100%,from(#52c5ff),to(#3abcfd));background-image:-webkit-linear-gradient(top,#52c5ff,#3abcfd);background-image:-o-linear-gradient(top,#52c5ff,#3abcfd);background-image:linear-gradient(to bottom,#52c5ff,#3abcfd);background-repeat:repeat-x;opacity:1}:root{--bs-font-sans-serif:system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--sliderheight:15px;--sliderwidth:150px;--sliderwidthnarrow:106px;--col-white:#ffffff;--col-tanlight:#dbaf85;--col-tan:#c89057;--col-lightbrown:#a96742;--col-mediumbrown:#8f563b;--col-shadowbrown:#824e37;--col-shadowbrowner:#7a4836;--col-darkbrown:#663931;--col-lipflesh:#964e41;--col-black:#201010;--border-thickness:1px;--slider-border-color:var(--col-darkbrown);--slider-tick-defaultval-color:var(--col-tan);--slider-tick-color:var(--col-lipflesh);--slider-background-color:var(--col-tanlight);--col-sliderhandle:var(--col-darkbrown);--tooltip-background-color:#fdfdcc;--page-background-color:#ccbda1;--panel-background-color:#ccbda1;--panel-border-color:#5c574c;--panel-text-color:#black;--panel-disabled-text-color:#675f51;--tab-background-color-unselected:#887c66;--tab-unselected-border-color:#3c3831;--tab-background-color-selected:var(--panel-background-color);--tab-selected-border-color:var(--panel-border-color);--panel-border-thickness:1px;--ui-margin:5px;--font-size:16px;--font-size-small:12px;--font-size-bigger:24px;--file-item-selected-background-color:#a8c6ee;--tick-width:2px;--slider-border-color:var(--tab-selected-border-color);--slider-tick-color:#0000002c;--slider-tick-defaultval-color:#5c574c;--slider-background-color:transparent;--col-sliderhandle:black;--alternating-table-row-color:#e7d1a7;--button-background-color:var(--panel-background-color);--button-pressed-background-color:#e7d1a7;--tween-canvas-width:75;--tween-canvas-height:32;--buttongrid-pressed-background-color:grey}.btn-outline-primary.active,.btn-outline-primary.dropdown-toggle.show,.btn-outline-primary:active,.slidercell .btn-check:active+.btn-outline-primary,.slidercell .btn-check:checked+.btn-outline-primary{background-color:var(--col-lipflesh)}.slider.slider-horizontal{margin-left:1.5px;margin-right:1.5px;position:relative;top:-4px;width:var(--sliderwidth)}.slider-track{background-image:none;background-color:transparent;border-radius:0;outline-offset:-3px;box-shadow:none}.slider.slider-horizontal .slider-handle{border-radius:0;width:6px;margin-left:0;box-shadow:none}.slider.slider-horizontal.slidernarrow{width:var(--sliderwidthnarrow);height:var(--sliderheight)}.slider.slider-horizontal .min-slider-handle{background-image:none;background-color:transparent;border-left:var(--border-thickness) solid var(--col-black);margin-left:-4.5px}.slider.slider-horizontal .max-slider-handle{background-image:none;background-color:transparent;border-right:var(--border-thickness) solid var(--col-black);margin-left:-1.5px}.slider.slider-horizontal .slider-track{width:100%;margin-top:calc(var(--sliderheight)/ -2);top:50%;left:0}.slider.slider-horizontal .slider-tick.round{border-radius:0;background-color:var(--slider-tick-color);background-image:none;width:3px;margin-left:-1.5px;margin-top:var(--sliderheight);box-shadow:none;height:4px;opacity:1}.slider.slider-horizontal .slider-tick.round.defaulttick{background-color:var(--slider-tick-defaultval-color);height:4px}.slider-track-high,.slider-track-low{background-color:transparent;border-radius:0;display:none;box-shadow:none}.slider-selection{background:0 0;border-radius:0;display:none;box-shadow:none}.slider.slider-horizontal .slider-selection{background:var(--col-lipflesh);border-radius:0;display:block;top:5px;height:calc(var(--sliderheight) - 10px);outline:2.2px solid var(--col-lipflesh)}.slider.slider-horizontal.singleselect .slider-selection{background:#2b242457;border-radius:0;display:block;top:5px;height:calc(var(--sliderheight) - 10px);outline:transparent solid 2.2px}.slider-border,.slidernarrow>.slider-border{position:relative;float:left;height:100%;left:-4.5px;border:var(--border-thickness) solid var(--slider-border-color)}.slider.slider-horizontal.singleselect .min-slider-handle{background-image:none;background-color:var(--col-sliderhandle);border:none;margin-left:-1.5px;top:3px;width:3px;height:calc(var(--sliderheight) - 6px)}.slider.slider-horizontal .slider-track{height:calc(var(--sliderheight))}.slider.slider-horizontal .slider-rangeHighlight.category1{background:var(--col-tanlight);border:1.5px solid var(--col-tanlight);transform:translate(-1.5px,0);outline:0;top:3px;height:calc(var(--sliderheight) - 6px)}.slider-border{width:calc(var(--sliderwidth) + 9px);background-color:var(--slider-background-color);box-sizing:border-box}.slidernarrow>.slider-border{width:calc(var(--sliderwidthnarrow) + 9px)}.slider-horizontal{margin-bottom:3px;margin-top:6px}.slidercell{width:calc(var(--sliderwidth) + 13px);padding-right:0!important;border-right:none}.globalvolsliderdiv>.fieldtext{font-weight:500;color:var(--col-black)}.tableborder.slidercell{border-left:0;border-right:0}.tab_button,.tab_button.active_tab{border-style:solid;border-width:var(--panel-border-thickness)}.globalvolsliderdiv{margin-left:3px;margin-bottom:6px}.slider .tooltip.bs-tooltip-top{margin-top:-36px}.data-tooltip{position:absolute;display:block;max-width:200px;opacity:0;content:attr(data-tooltip);transform:translate(-50%,calc(-100% - 10px));width:max-content;background:var(--tooltip-background-color);z-index:100;border-radius:3px;padding:5px;margin-left:4px;transition:opacity .3s ease-in-out 0ms;box-shadow:0 0 10px 0 rgba(0,0,0,.5)}#myInput,.display_canvas_container,.lockimage{background-repeat:no-repeat}.lockcolumn:hover>.data-tooltip,.parameter_name:hover>.data-tooltip,button:hover>.data-tooltip{opacity:1;transition-delay:0.5s}.right_col_label{text-align:left;width:100%}.tooltip-inner{background-color:var(--tooltip-background-color)}.slidernarrow{padding-left:2px}body{margin:0;padding:0;background-color:var(--page-background-color);background-image:url("../img/bg.png");font-size:var(--font-size);overflow-y:auto;display:flex;flex-direction:column;justify-content:center}#main_container{width:fit-content;background-color:transparent;display:flex;flex-direction:column;margin:0 auto}#tab_bar{padding-left:10px;height:50px;width:100%;background-color:transparent;display:flex;flex-direction:row}#footer,.centre_params .paramtable tr:nth-child(odd),.paramtable tr:nth-child(2n){background-color:var(--alternating-table-row-color)}.tab_button{margin-top:15px;padding-left:10px;padding-right:10px;font-size:var(--font-size-bigger);background-color:var(--tab-background-color-unselected);border-color:var(--tab-unselected-border-color);border-bottom:none;margin-left:5px;margin-right:5px;padding-top:3px}.tab_button:first-child{margin-left:0}.tab_button:last-child{margin-right:0}.tab_button.active_tab{margin-top:10px;background-color:var(--tab-background-color-selected);border-color:var(--tab-selected-border-color);border-bottom:none;margin-bottom:calc(-1*var(--panel-border-thickness));z-index:1;padding-top:6px;cursor:default}.tab_page{width:100%;background-color:var(--panel-background-color);border-style:solid;border-color:var(--panel-border-color);border-width:var(--panel-border-thickness);display:none;flex-direction:row;filter:drop-shadow(10px 10px 20px rgba(0, 0, 0, .5));height:606px;overflow-y:clip;overflow-x:visible}.centre_panel,.right_panel{background-color:transparent}.left_panel,.preset_list,.save_commands{flex-direction:column;display:flex;gap:var(--ui-margin)}.tab_page.active_tab_page{display:flex}#footer{height:fit-content;width:fit-content;text-align:center;margin:5px auto 0;border-radius:5px;padding:5px 10px;box-shadow:0 0 3px 0 var(--alternating-table-row-color)}.left_panel{width:150px}.preset_list,.save_commands{margin:var(--ui-margin)}.right_panel_button_list{display:flex;flex-direction:column;gap:var(--ui-margin);margin:var(--ui-margin);margin-left:0}.centre_panel{width:350px;max-height:600px;margin-top:var(--ui-margin);margin-bottom:0;margin-left:0;margin-right:var(--ui-margin);border:var(--panel-border-thickness) solid var(--panel-border-color);border-bottom:none;display:flex;flex-direction:column}.centre_header{border-bottom:var(--panel-border-thickness) solid var(--panel-border-color);margin-top:var(--ui-margin);padding-bottom:var(--ui-margin);padding-right:var(--ui-margin)}.right_panel{width:120px}.scroll_container{overflow-x:hidden;overflow-y:auto}.filelist{position:relative;padding-top:var(--ui-margin);display:flex;flex-direction:column;height:100%;border-style:solid;border-width:0;border-color:var(--panel-border-color);border-top-width:var(--panel-border-thickness);scrollbar-gutter:stable}.display_canvas_container,.tween_select_canvas{border:var(--panel-border-thickness) solid var(--panel-border-color)}.file_item{display:flex;padding:0;padding-right:var(--ui-margin)}.file_item.modified{color:var(--panel-disabled-text-color)}.file_item.file_selected{background-color:var(--file-item-selected-background-color)}.file_item_name{padding-left:3px;display:inline-block;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;width:calc(100% - 18px);height:100%}.file_item_name.modified_filename{color:#4e4e4e;font-style:italic}.file_item_name.modified_filename::after{content:"*"}.delete_button{display:flex;font-size:var(--font-size);padding:0;margin:0;width:15px;height:15px;text-align:center}.padded_item,.slider_container,.transition_container{padding-right:var(--ui-margin);padding-left:var(--ui-margin)}.delete_button img{width:10px;height:10px}table.paramtable{width:100%;border-collapse:collapse}.centre_params .paramtable tr{border-bottom:var(--panel-border-thickness) solid var(--panel-border-color)}.centre_params .paramtable tr:nth-child(2n){background-color:var(--panel-background-color)}.padded_item{white-space:nowrap}.button_grid_3c,.button_grid_4c{width:100%;display:grid;grid-template-columns:repeat(4,1fr);gap:var(--ui-margin)}.button_grid_5c{width:100%;display:grid;grid-template-columns:repeat(5,1fr);gap:var(--ui-margin)}.lock_icon.unlocked{opacity:.4}.slider_container,.transition_container{position:relative;width:var(--sliderwidth)}.parameter_slider{width:100%;margin:0;position:relative;z-index:2}.slider_ticks,.tooltip{position:absolute}.slider_ticks{top:20px;left:0;right:0;display:flex;justify-content:space-between;padding:0 10px}.slider_tick{width:var(--tick-width);height:10px;background-color:var(--panel-border-color)}td.lockcolumn{width:15px}td.labelcolumn{width:max-content}.centre_params{position:relative;height:100%;width:100%}.parameter_name{float:right;font-size:var(--font-size-small);width:100%;text-align:right;cursor:default}.display_canvas_container{margin-top:var(--ui-margin);margin-right:var(--ui-margin);margin-bottom:var(--ui-margin);background-size:cover}.normie_checkbox{margin:0;margin-right:var(--ui-margin)}.dropdown-content .tween_select_canvas,form{margin:0;padding:0}.padleft{padding-left:var(--ui-margin)}.lockimage{width:15px;height:15px;margin:0;padding:0;margin-left:var(--ui-margin);background-image:url("../img/locked.png");background-position:center}.lockimage.unlocked{background-image:url("../img/unlocked.png");opacity:.4}input[type=range].input-knob:focus,input[type=range].input-slider:focus{outline:0;box-shadow:none}.tween_select_canvas{background-color:transparent;display:inline-block;width:var(--tween-canvas-width);height:var(--tween-canvas-height);margin-top:var(--ui-margin);object-fit:contain;object-position:center}#myInput,.dropbtn{font-size:16px;border:none}.dropbtn{background-color:#04aa6d;color:#fff;padding:16px;cursor:pointer}.dropbtn:focus,.dropbtn:hover{background-color:#3e8e41}#myInput{box-sizing:border-box;background-image:url('searchicon.png');background-position:14px 12px;padding:14px 20px 12px 45px;border-bottom:1px solid #ddd}#myInput:focus{outline:#ddd solid 3px}.dropdown{position:relative;display:inline-block}.dropdown-content{padding:0;display:none;position:absolute;background-color:var(--panel-background-color);z-index:1;flex-direction:row;gap:0}.dropdown-content img:hover{background-color:var(--button-pressed-background-color)}.dropdown-content a{color:#000;padding:12px 16px;text-decoration:none;display:block}.dropdown-content a:hover{background-color:#f1f1f1}.dropdown-content.show{left:0;transform:translateX(50%);width:var(--tween-canvas-width);display:flex;flex-direction:column;gap:0}.dropdown-content img{display:block}.dropdown-content img:not(:last-child){border-bottom:none}form{display:inline;display:flex;flex-direction:column}</style>
    </head>
    <body>
        <div id="main_container">
            <div id="tab_bar">
            </div>
            <div id="tab_page_manager">
            </div>
            <div id="footer">
                by <a href="http://www.increpare.com">increpare</a> · <a href="https://github.com/sponsors/increpare">sponsor</a> · <a href="https://paypal.me/increparegames">paypal</a> · <a href="https://github.com/increpare/bfxr2">source code</a>
            </div>
        </div>
    </body>
</html>
